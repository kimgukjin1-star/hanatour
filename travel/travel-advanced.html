<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¼ë°˜ ì—¬í–‰ ì•ˆë‚´ë¬¸ ìƒì„±ê¸°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/lz-string@1.5.0/libs/lz-string.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../fonts/custom-fonts.css">
    <style>
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .card {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        .travel-icon {
            font-size: 4rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .design-settings {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 8px;
        }
        .meeting-section.collapsed .meeting-section-hide {
            display: none;
        }
        .flight-section.collapsed .flight-section-hide {
            display: none;
        }
        .meeting-card {
            border: 2px solid #e9d5ff;
            border-radius: 18px;
            background: white;
            padding: 1.5rem;
            margin-top: 1.5rem;
            box-shadow: inset 0 0 0 1px rgba(148, 108, 255, 0.05);
        }
        .meeting-card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1.25rem;
            gap: 1rem;
        }
        .meeting-card-title {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-weight: 700;
            color: #7c3aed;
            font-size: 1.05rem;
        }
        .meeting-card-icon {
            font-size: 1.1rem;
            color: #7c3aed;
        }
        .meeting-toggle-label {
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
            font-weight: 600;
            color: #6b21a8;
            font-size: 0.9rem;
        }
        .meeting-card[data-include="false"] {
            opacity: 0.65;
        }
    </style>
</head>
<body class="p-4 md:p-8">
    <div class="max-w-4xl mx-auto">
        <div class="card p-8 md:p-12">
            <!-- í—¤ë” -->
            <div class="text-center mb-8">
                <div class="travel-icon mb-4">
                    <i class="fas fa-plane"></i>
                </div>
                <h1 class="text-4xl font-bold text-gray-800 mb-2">ì¼ë°˜ ì—¬í–‰ ì•ˆë‚´ë¬¸ ìƒì„±ê¸°</h1>
                <p class="text-gray-600">ê°„í¸í•˜ê²Œ ì•ˆë‚´ë¬¸ì„ ì‘ì„±í•˜ê³  ê³µìœ í•˜ì„¸ìš”</p>
            </div>

            <!-- ì €ì¥ ê´€ë¦¬ ë²„íŠ¼ -->
            <div class="mb-6 flex gap-3">
                <button type="button" id="saveButton" class="flex-1 bg-green-500 hover:bg-green-600 text-white py-3 px-4 rounded-lg font-bold transition flex items-center justify-center">
                    <i class="fas fa-save mr-2"></i>í˜„ì¬ ì•ˆë‚´ë¬¸ ì €ì¥
                </button>
                <button type="button" id="loadButton" class="flex-1 bg-blue-500 hover:bg-blue-600 text-white py-3 px-4 rounded-lg font-bold transition flex items-center justify-center">
                    <i class="fas fa-folder-open mr-2"></i>ì €ì¥ëœ ì•ˆë‚´ë¬¸ ë¶ˆëŸ¬ì˜¤ê¸°
                </button>
            </div>
            
            <!-- í…œí”Œë¦¿ ê´€ë¦¬ ë²„íŠ¼ -->
            <div class="mb-6 flex gap-3">
                <button type="button" id="saveTemplateButton" class="flex-1 bg-yellow-500 hover:bg-yellow-600 text-white py-3 px-4 rounded-lg font-bold transition flex items-center justify-center">
                    <i class="fas fa-palette mr-2"></i>í˜„ì¬ ë””ìì¸ì„ í…œí”Œë¦¿ìœ¼ë¡œ ì €ì¥
                </button>
                <button type="button" id="loadTemplateButton" class="flex-1 bg-orange-500 hover:bg-orange-600 text-white py-3 px-4 rounded-lg font-bold transition flex items-center justify-center">
                    <i class="fas fa-paint-brush mr-2"></i>í…œí”Œë¦¿ ë¶ˆëŸ¬ì˜¤ê¸°
                </button>
            </div>

            <!-- ì…ë ¥ í¼ -->
            <form id="travelForm" class="space-y-6">
                <!-- íƒ€ì´í‹€ -->
                <div class="bg-purple-50 p-6 rounded-lg border-2 border-purple-200">
                    <h3 class="text-lg font-bold text-gray-800 mb-4">
                        <i class="fas fa-heading text-purple-600 mr-2"></i>íƒ€ì´í‹€
                    </h3>
                    <input type="text" id="title" required
                        class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none mb-2"
                        placeholder="ì˜ˆ: ì œì£¼ë„ ê³¨í”„ ì—¬í–‰">
                    
                    <!-- íƒ€ì´í‹€ ë°°ê²½ ì´ë¯¸ì§€ -->
                    <div class="mt-3">
                        <label class="block text-sm font-semibold text-gray-700 mb-2">
                            <i class="fas fa-image text-purple-600 mr-1"></i>íƒ€ì´í‹€ ë°°ê²½ ì´ë¯¸ì§€ (ì„ íƒ)
                        </label>
                        <p class="text-xs text-gray-500 mb-2">ğŸ’¡ íƒ€ì´í‹€ í—¤ë”ì˜ ë°°ê²½ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤. í…ìŠ¤íŠ¸ê°€ ì•ì— ë‚˜íƒ€ë‚©ë‹ˆë‹¤.</p>
                        <input type="file" id="titleImage" accept="image/*"
                            class="w-full px-3 py-2 text-sm border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none">
                        <div id="titleImagePreview" class="mt-2 hidden">
                            <img class="max-w-full h-32 object-contain rounded-lg border-2 border-gray-200">
                            <button type="button" class="remove-image mt-1 text-red-500 text-sm hover:text-red-700">
                                <i class="fas fa-times-circle mr-1"></i>ì´ë¯¸ì§€ ì œê±°
                            </button>
                        </div>
                    </div>
                    
                    <!-- íƒ€ì´í‹€ ë””ìì¸ ì„¤ì • -->
                    <div class="design-settings">
                        <p class="text-sm font-bold text-yellow-800 mb-2">
                            <i class="fas fa-palette mr-1"></i>íƒ€ì´í‹€ ë””ìì¸
                        </p>
                        <div class="grid md:grid-cols-4 gap-3">
                            <div>
                                <label class="block text-xs font-semibold text-gray-700 mb-1">ê¸€ê¼´</label>
                                <select id="titleFont" class="w-full px-3 py-2 text-sm border-2 border-gray-300 rounded-lg focus:border-yellow-500 focus:outline-none">
                                    <optgroup label="ê¸°ë³¸ í°íŠ¸">
                                        <option value="'Noto Sans KR', sans-serif">Noto Sans (ê¸°ë³¸)</option>
                                        <option value="'Nanum Gothic', sans-serif">ë‚˜ëˆ”ê³ ë”•</option>
                                        <option value="'Nanum Myeongjo', serif">ë‚˜ëˆ”ëª…ì¡°</option>
                                        <option value="'Black Han Sans', sans-serif">ê²€ì€ê³ ë”•</option>
                                        <option value="'Do Hyeon', sans-serif">ë„í˜„ì²´</option>
                                        <option value="'Jua', sans-serif">ì£¼ì•„ì²´</option>
                                        <option value="'Gamja Flower', cursive">ê°ìê½ƒì²´</option>
                                        <option value="'Sunflower', sans-serif">í•´ë°”ë¼ê¸°ì²´</option>
                                    </optgroup>
                                    <optgroup label="ì»¤ìŠ¤í…€ í°íŠ¸ (fonts/ í´ë”ì— íŒŒì¼ ì¶”ê°€ í•„ìš”)">
                                        <option value="'Pretendard-ExtraBold', sans-serif">Pretendard ExtraBold</option>
                                        <option value="'Pretendard-Light', sans-serif">Pretendard Light</option>
                                        <option value="'Pretendard-Medium', sans-serif">Pretendard Medium</option>
                                        <option value="'Pretendard-Regular', sans-serif">Pretendard Regular</option>
                                        <option value="'Recipekorea', sans-serif">ë ˆì‹œí”¼ì½”ë¦¬ì•„ ë ˆì½”ì²´</option>
                                        <option value="'SB-Aggro-B', sans-serif">SB ì–´ê·¸ë¡œ B</option>
                                        <option value="'SB-Aggro-L', sans-serif">SB ì–´ê·¸ë¡œ L</option>
                                        <option value="'SB-Aggro-M', sans-serif">SB ì–´ê·¸ë¡œ M</option>
                                    </optgroup>
                                </select>
                            </div>
                            <div>
                                <label class="block text-xs font-semibold text-gray-700 mb-1">ê¸€ì í¬ê¸° (px)</label>
                                <input type="number" id="titleFontSize" value="36" min="12" max="100"
                                    class="w-full px-3 py-2 text-sm border-2 border-gray-300 rounded-lg focus:border-yellow-500 focus:outline-none"
                                    placeholder="36">
                            </div>
                            <div>
                                <label class="block text-xs font-semibold text-gray-700 mb-1">ê¸€ì ìƒ‰ìƒ</label>
                                <div class="flex gap-2">
                                    <input type="color" id="titleColor" value="#ffffff"
                                        class="h-10 w-16 border-2 border-gray-300 rounded-lg cursor-pointer">
                                    <input type="text" id="titleColorHex" value="#ffffff"
                                        class="flex-1 px-3 py-2 text-sm border-2 border-gray-300 rounded-lg focus:border-yellow-500 focus:outline-none"
                                        placeholder="#ffffff">
                                </div>
                            </div>
                            <div>
                                <label class="block text-xs font-semibold text-gray-700 mb-1">ì •ë ¬ë°©ì‹</label>
                                <select id="titleAlign" class="w-full px-3 py-2 text-sm border-2 border-gray-300 rounded-lg focus:border-yellow-500 focus:outline-none">
                                    <option value="left">ì™¼ìª½ ì •ë ¬</option>
                                    <option value="center" selected>ê°€ìš´ë° ì •ë ¬</option>
                                    <option value="right">ì˜¤ë¥¸ìª½ ì •ë ¬</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ê¸°ê°„ -->
                <div class="grid md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-2">
                            <i class="fas fa-calendar-alt text-purple-600 mr-2"></i>ì‹œì‘ì¼
                        </label>
                        <input type="date" id="startDate" required
                            class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-2">
                            <i class="fas fa-calendar-alt text-purple-600 mr-2"></i>ì¢…ë£Œì¼
                        </label>
                        <input type="date" id="endDate" required
                            class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none">
                    </div>
                </div>
                
                <!-- ê¸°ê°„ ë””ìì¸ ì„¤ì • -->
                <div class="bg-yellow-50 p-4 rounded-lg border-2 border-yellow-300 mt-2">
                    <h4 class="text-sm font-bold text-gray-700 mb-3 flex items-center">
                        <i class="fas fa-paint-brush text-yellow-600 mr-2"></i>ê¸°ê°„ ë””ìì¸
                    </h4>
                    <div class="grid md:grid-cols-4 gap-3">
                        <div>
                            <label class="block text-xs font-semibold text-gray-600 mb-1">í°íŠ¸</label>
                            <select id="periodFont" class="w-full px-3 py-2 border border-gray-300 rounded text-sm">
                                <optgroup label="ê¸°ë³¸ í°íŠ¸">
                                    <option value="'Noto Sans KR', sans-serif">Noto Sans (ê¸°ë³¸)</option>
                                    <option value="'Nanum Gothic', sans-serif">ë‚˜ëˆ”ê³ ë”•</option>
                                    <option value="'Nanum Myeongjo', serif">ë‚˜ëˆ”ëª…ì¡°</option>
                                    <option value="'Black Han Sans', sans-serif">ê²€ì€ê³ ë”•</option>
                                    <option value="'Do Hyeon', sans-serif">ë„í˜„ì²´</option>
                                    <option value="'Jua', sans-serif">ì£¼ì•„ì²´</option>
                                    <option value="'Gamja Flower', cursive">ê°ìê½ƒì²´</option>
                                    <option value="'Sunflower', sans-serif">í•´ë°”ë¼ê¸°ì²´</option>
                                </optgroup>
                                <optgroup label="ì»¤ìŠ¤í…€ í°íŠ¸">
                                    <option value="'Pretendard-ExtraBold', sans-serif">Pretendard ExtraBold</option>
                                    <option value="'Pretendard-Light', sans-serif">Pretendard Light</option>
                                    <option value="'Pretendard-Medium', sans-serif">Pretendard Medium</option>
                                    <option value="'Pretendard-Regular', sans-serif">Pretendard Regular</option>
                                    <option value="'Recipekorea', sans-serif">ë ˆì‹œí”¼ì½”ë¦¬ì•„ ë ˆì½”ì²´</option>
                                    <option value="'SB-Aggro-B', sans-serif">SB ì–´ê·¸ë¡œ B</option>
                                    <option value="'SB-Aggro-L', sans-serif">SB ì–´ê·¸ë¡œ L</option>
                                    <option value="'SB-Aggro-M', sans-serif">SB ì–´ê·¸ë¡œ M</option>
                                </optgroup>
                            </select>
                        </div>
                        <div>
                            <label class="block text-xs font-semibold text-gray-600 mb-1">í°íŠ¸ í¬ê¸° (px)</label>
                            <input type="number" id="periodFontSize" value="20" min="12" max="100"
                                class="w-full px-3 py-2 border border-gray-300 rounded text-sm"
                                placeholder="20">
                        </div>
                        <div>
                            <label class="block text-xs font-semibold text-gray-600 mb-1">ìƒ‰ìƒ</label>
                            <div class="flex gap-2">
                                <input type="color" id="periodColor" value="#ffffff" class="w-12 h-9 rounded cursor-pointer">
                                <input type="text" id="periodColorHex" value="#ffffff" maxlength="7"
                                    class="flex-1 px-2 py-1 border border-gray-300 rounded text-sm" placeholder="#000000">
                            </div>
                        </div>
                        <div>
                            <label class="block text-xs font-semibold text-gray-600 mb-1">ì •ë ¬ë°©ì‹</label>
                            <select id="periodAlign" class="w-full px-3 py-2 border border-gray-300 rounded text-sm">
                                <option value="left">ì™¼ìª½ ì •ë ¬</option>
                                <option value="center" selected>ê°€ìš´ë° ì •ë ¬</option>
                                <option value="right">ì˜¤ë¥¸ìª½ ì •ë ¬</option>
                            </select>
                        </div>
                    </div>
                </div>

            <!-- ìƒí’ˆ ê°€ê²© -->
            <div id="priceSection" class="bg-white/90 backdrop-blur rounded-2xl border-2 border-purple-200 shadow-lg p-6 md:p-8 mb-8" data-price-include="true">
                <div class="mb-6 flex items-center justify-between gap-3">
                    <h3 class="text-lg font-bold text-gray-800 flex items-center">
                        <i class="fas fa-tags text-purple-500 mr-2"></i>ìƒí’ˆ ê°€ê²© ì •ë³´
                    </h3>
                    <label class="inline-flex items-center gap-2 text-sm font-semibold text-purple-600 cursor-pointer">
                        <input type="checkbox" id="priceIncludeToggle" class="h-5 w-5 text-purple-600 border-2 border-purple-300 rounded focus:ring-purple-500" checked>
                        <span class="flex items-center gap-1"><i class="fas fa-eye text-yellow-500"></i>ë¯¸ë¦¬ë³´ê¸° í¬í•¨</span>
                    </label>
                </div>
                <div class="grid md:grid-cols-3 gap-4">
                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-2" for="adultPrice">ì„±ì¸ ê°€ê²©</label>
                        <div class="relative">
                            <span class="absolute left-3 top-1/2 -translate-y-1/2 text-sm text-gray-400">â‚©</span>
                            <input type="text" id="adultPrice"
                                class="w-full pl-7 pr-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none font-semibold text-gray-800"
                                placeholder="ì˜ˆ: 1,200,000">
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-2" for="childPrice">ì•„ë™ ê°€ê²©</label>
                        <div class="relative">
                            <span class="absolute left-3 top-1/2 -translate-y-1/2 text-sm text-gray-400">â‚©</span>
                            <input type="text" id="childPrice"
                                class="w-full pl-7 pr-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none font-semibold text-gray-800"
                                placeholder="ì˜ˆ: 950,000">
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-2" for="infantPrice">ìœ ì•„ ê°€ê²©</label>
                        <div class="relative">
                            <span class="absolute left-3 top-1/2 -translate-y-1/2 text-sm text-gray-400">â‚©</span>
                            <input type="text" id="infantPrice"
                                class="w-full pl-7 pr-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none font-semibold text-gray-800"
                                placeholder="ì˜ˆ: 250,000">
                        </div>
                    </div>
                </div>

                <div id="priceSectionContent" class="mt-6">
                    <div class="border border-gray-200 rounded-xl bg-white overflow-hidden">
                        <div class="bg-purple-500 text-white text-center py-3 font-bold tracking-wide">ìƒí’ˆê°€ê²©</div>
                        <table class="w-full font-sans text-sm md:text-base text-gray-700">
                            <thead class="bg-purple-50 text-purple-700 uppercase tracking-wide text-xs md:text-sm">
                                <tr>
                                    <th class="py-3 px-4 text-left">êµ¬ë¶„</th>
                                    <th class="py-3 px-4 text-center">ì„±ì¸</th>
                                    <th class="py-3 px-4 text-center">ì•„ë™</th>
                                    <th class="py-3 px-4 text-center">ìœ ì•„</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="bg-white">
                                    <td class="py-4 px-4 font-semibold text-gray-800 border-t border-gray-100">ê¸°ë³¸ìƒí’ˆ</td>
                                    <td class="py-4 px-4 text-center border-t border-gray-100">
                                        <span id="priceAdult" class="text-lg font-bold text-gray-900">-</span>
                                    </td>
                                    <td class="py-4 px-4 text-center border-t border-gray-100">
                                        <span id="priceChild" class="text-lg font-bold text-gray-900">-</span>
                                    </td>
                                    <td class="py-4 px-4 text-center border-t border-gray-100">
                                        <span id="priceInfant" class="text-lg font-bold text-gray-900">-</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="bg-gray-50 text-xs md:text-sm text-gray-500 px-4 py-3">
                            â€» ìœ ë¥˜í• ì¦ë£Œ ë° ì„¸ì œê³µê¸‰ê°€ëŠ” ë³„ë„ì´ë©°, ì¶œë°œì¼ ê¸°ì¤€ ë³€ë™ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìƒì„¸ ê²¬ì ì€ ë‹´ë‹¹ìì—ê²Œ ë¬¸ì˜í•˜ì„¸ìš”.
                        </div>
                    </div>
                </div>

                <!-- ìƒí’ˆê°€ê²© ë””ìì¸ ì„¤ì • -->
                <div class="bg-yellow-50 p-4 rounded-lg border-2 border-yellow-300 mt-4">
                    <h4 class="text-sm font-bold text-gray-700 mb-3 flex items-center">
                        <i class="fas fa-paint-brush text-yellow-600 mr-2"></i>ìƒí’ˆê°€ê²© ë””ìì¸
                    </h4>
                    <div class="grid md:grid-cols-4 gap-3">
                        <div>
                            <label class="block text-xs font-semibold text-gray-600 mb-1">í°íŠ¸</label>
                            <select id="priceFont" class="w-full px-3 py-2 border border-gray-300 rounded text-sm">
                                <optgroup label="ê¸°ë³¸ í°íŠ¸">
                                    <option value="'Noto Sans KR', sans-serif">Noto Sans (ê¸°ë³¸)</option>
                                    <option value="'Nanum Gothic', sans-serif">ë‚˜ëˆ”ê³ ë”•</option>
                                    <option value="'Nanum Myeongjo', serif">ë‚˜ëˆ”ëª…ì¡°</option>
                                    <option value="'Black Han Sans', sans-serif">ê²€ì€ê³ ë”•</option>
                                    <option value="'Do Hyeon', sans-serif">ë„í˜„ì²´</option>
                                    <option value="'Jua', sans-serif">ì£¼ì•„ì²´</option>
                                    <option value="'Gamja Flower', cursive">ê°ìê½ƒì²´</option>
                                    <option value="'Sunflower', sans-serif">í•´ë°”ë¼ê¸°ì²´</option>
                                </optgroup>
                                <optgroup label="ì»¤ìŠ¤í…€ í°íŠ¸">
                                    <option value="'Pretendard-ExtraBold', sans-serif">Pretendard ExtraBold</option>
                                    <option value="'Pretendard-Light', sans-serif">Pretendard Light</option>
                                    <option value="'Pretendard-Medium', sans-serif">Pretendard Medium</option>
                                    <option value="'Pretendard-Regular', sans-serif">Pretendard Regular</option>
                                    <option value="'Recipekorea', sans-serif">ë ˆì‹œí”¼ì½”ë¦¬ì•„ ë ˆì½”ì²´</option>
                                    <option value="'SB-Aggro-B', sans-serif">SB ì–´ê·¸ë¡œ B</option>
                                    <option value="'SB-Aggro-L', sans-serif">SB ì–´ê·¸ë¡œ L</option>
                                    <option value="'SB-Aggro-M', sans-serif">SB ì–´ê·¸ë¡œ M</option>
                                </optgroup>
                            </select>
                        </div>
                        <div>
                            <label class="block text-xs font-semibold text-gray-600 mb-1">í°íŠ¸ í¬ê¸° (px)</label>
                            <input type="number" id="priceFontSize" value="16" min="12" max="100"
                                class="w-full px-3 py-2 border border-gray-300 rounded text-sm"
                                placeholder="16">
                        </div>
                        <div>
                            <label class="block text-xs font-semibold text-gray-600 mb-1">ìƒ‰ìƒ</label>
                            <div class="flex gap-2">
                                <input type="color" id="priceColor" value="#1f2937" class="w-12 h-9 rounded cursor-pointer">
                                <input type="text" id="priceColorHex" value="#1f2937" maxlength="7"
                                    class="flex-1 px-2 py-1 border border-gray-300 rounded text-sm" placeholder="#1f2937">
                            </div>
                        </div>
                        <div>
                            <label class="block text-xs font-semibold text-gray-600 mb-1">ì •ë ¬ë°©ì‹</label>
                            <select id="priceAlign" class="w-full px-3 py-2 border border-gray-300 rounded text-sm">
                                <option value="left">ì™¼ìª½ ì •ë ¬</option>
                                <option value="center" selected>ê°€ìš´ë° ì •ë ¬</option>
                                <option value="right">ì˜¤ë¥¸ìª½ ì •ë ¬</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

                <!-- í¬í•¨/ë¶ˆí¬í•¨/ì„ íƒê²½ë¹„ ì •ë³´ -->
                <div id="expenseInfoSection" class="bg-white/90 backdrop-blur rounded-2xl border-2 border-purple-200 shadow-lg p-6 md:p-8 mb-8">
                    <div class="mb-6 flex items-center justify-between gap-3">
                        <h3 class="text-lg font-bold text-gray-800 flex items-center">
                            <i class="fas fa-clipboard-list text-purple-500 mr-2"></i>í¬í•¨/ë¶ˆí¬í•¨/ì„ íƒê²½ë¹„ ì •ë³´
                        </h3>
                    </div>
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <h4 class="text-md font-bold text-gray-800 mb-3">í¬í•¨ë‚´ì—­</h4>
                            <div class="space-y-3">
                                <div>
                                    <label class="block text-xs font-semibold text-gray-600 mb-1">[êµí†µ]</label>
                                    <textarea id="incTransport" rows="2" class="w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:border-purple-500 focus:outline-none text-sm leading-relaxed" placeholder="ì˜ˆ: ì™•ë³µ í•­ê³µê¶Œ, ê³µí•­-í˜¸í…” ì°¨ëŸ‰"></textarea>
                                </div>
                                <div>
                                    <label class="block text-xs font-semibold text-gray-600 mb-1">[ìˆ™ë°•]</label>
                                    <textarea id="incHotel" rows="2" class="w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:border-purple-500 focus:outline-none text-sm leading-relaxed" placeholder="ì˜ˆ: 2ì¸ 1ì‹¤ ê¸°ì¤€ í˜¸í…” 2ë°•"></textarea>
                                </div>
                                <div>
                                    <label class="block text-xs font-semibold text-gray-600 mb-1">[ì‹ì‚¬]</label>
                                    <textarea id="incMeal" rows="2" class="w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:border-purple-500 focus:outline-none text-sm leading-relaxed" placeholder="ì˜ˆ: ì¡°ì‹ 2íšŒ, ì¤‘ì‹ 1íšŒ, ì„ì‹ 1íšŒ"></textarea>
                                </div>
                                <div>
                                    <label class="block text-xs font-semibold text-gray-600 mb-1">[ê´€ê´‘]</label>
                                    <textarea id="incTour" rows="2" class="w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:border-purple-500 focus:outline-none text-sm leading-relaxed" placeholder="ì˜ˆ: ì…ì¥ë£Œ ë° í˜„ì§€ ì¼ì • í¬í•¨"></textarea>
                                </div>
                                <div>
                                    <label class="block text-xs font-semibold text-gray-600 mb-1">[ë³´í—˜]</label>
                                    <textarea id="incInsurance" rows="2" class="w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:border-purple-500 focus:outline-none text-sm leading-relaxed" placeholder="ì˜ˆ: ì—¬í–‰ì ë³´í—˜(ìƒí•´/ì§ˆë³‘)"></textarea>
                                </div>
                                <div>
                                    <label class="block text-xs font-semibold text-gray-600 mb-1">[ê°€ì´ë“œ]</label>
                                    <textarea id="incGuide" rows="2" class="w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:border-purple-500 focus:outline-none text-sm leading-relaxed" placeholder="ì˜ˆ: í•œêµ­ì–´ ê°€ì´ë“œ ë° ê¸°ì‚¬ ê²½ë¹„ í¬í•¨"></textarea>
                                </div>
                            </div>
                        </div>
                        <div>
                            <h4 class="text-md font-bold text-gray-800 mb-3">ë¶ˆí¬í•¨ë‚´ì—­</h4>
                            <textarea id="exclusions" rows="10" class="w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:border-purple-500 focus:outline-none text-sm leading-relaxed" placeholder="ì¤„ë°”ê¿ˆìœ¼ë¡œ í•­ëª©ì„ êµ¬ë¶„í•´ ì…ë ¥í•˜ì„¸ìš”&#10;ì˜ˆ: ê°œì¸ ê²½ë¹„ (ë¬¼, ê°„ì‹, ë¯¸ë‹ˆë°” ë“±)&#10;ì˜ˆ: ë§¤ë„ˆ íŒ, í¬í„°ë¹„"></textarea>
                            <h4 class="text-md font-bold text-gray-800 mt-6 mb-2">ì„ íƒê²½ë¹„ (ì„ íƒ)</h4>
                            <textarea id="optionals" rows="4" class="w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:border-purple-500 focus:outline-none text-sm leading-relaxed" placeholder="ì˜ˆ: ì„ íƒ ê´€ê´‘, ì—…ê·¸ë ˆì´ë“œ ê°ì‹¤, ì¢Œì„ ì§€ì • ìš”ê¸ˆ ë“±"></textarea>
                        </div>
                    </div>

                    <!-- í¬í•¨/ë¶ˆí¬í•¨ ë””ìì¸ ì„¤ì • -->
                    <div class="bg-yellow-50 p-4 rounded-lg border-2 border-yellow-300 mt-4">
                        <h4 class="text-sm font-bold text-gray-700 mb-3 flex items-center">
                            <i class="fas fa-paint-brush text-yellow-600 mr-2"></i>í¬í•¨/ë¶ˆí¬í•¨ ë””ìì¸
                        </h4>
                        <div class="grid md:grid-cols-4 gap-3">
                            <div>
                                <label class="block text-xs font-semibold text-gray-600 mb-1">í°íŠ¸</label>
                                <select id="expenseFont" class="w-full px-3 py-2 border border-gray-300 rounded text-sm">
                                    <optgroup label="ê¸°ë³¸ í°íŠ¸">
                                        <option value="'Noto Sans KR', sans-serif">Noto Sans (ê¸°ë³¸)</option>
                                        <option value="'Nanum Gothic', sans-serif">ë‚˜ëˆ”ê³ ë”•</option>
                                        <option value="'Nanum Myeongjo', serif">ë‚˜ëˆ”ëª…ì¡°</option>
                                        <option value="'Black Han Sans', sans-serif">ê²€ì€ê³ ë”•</option>
                                        <option value="'Do Hyeon', sans-serif">ë„í˜„ì²´</option>
                                        <option value="'Jua', sans-serif">ì£¼ì•„ì²´</option>
                                        <option value="'Gamja Flower', cursive">ê°ìê½ƒì²´</option>
                                        <option value="'Sunflower', sans-serif">í•´ë°”ë¼ê¸°ì²´</option>
                                    </optgroup>
                                    <optgroup label="ì»¤ìŠ¤í…€ í°íŠ¸">
                                        <option value="'Pretendard-ExtraBold', sans-serif">Pretendard ExtraBold</option>
                                        <option value="'Pretendard-Light', sans-serif">Pretendard Light</option>
                                        <option value="'Pretendard-Medium', sans-serif">Pretendard Medium</option>
                                        <option value="'Pretendard-Regular', sans-serif">Pretendard Regular</option>
                                        <option value="'Recipekorea', sans-serif">ë ˆì‹œí”¼ì½”ë¦¬ì•„ ë ˆì½”ì²´</option>
                                        <option value="'SB-Aggro-B', sans-serif">SB ì–´ê·¸ë¡œ B</option>
                                        <option value="'SB-Aggro-L', sans-serif">SB ì–´ê·¸ë¡œ L</option>
                                        <option value="'SB-Aggro-M', sans-serif">SB ì–´ê·¸ë¡œ M</option>
                                    </optgroup>
                                </select>
                            </div>
                            <div>
                                <label class="block text-xs font-semibold text-gray-600 mb-1">í°íŠ¸ í¬ê¸° (px)</label>
                                <input type="number" id="expenseFontSize" value="14" min="12" max="100"
                                    class="w-full px-3 py-2 border border-gray-300 rounded text-sm"
                                    placeholder="14">
                            </div>
                            <div>
                                <label class="block text-xs font-semibold text-gray-600 mb-1">ìƒ‰ìƒ</label>
                                <div class="flex gap-2">
                                    <input type="color" id="expenseColor" value="#374151" class="w-12 h-9 rounded cursor-pointer">
                                    <input type="text" id="expenseColorHex" value="#374151" maxlength="7"
                                        class="flex-1 px-2 py-1 border border-gray-300 rounded text-sm" placeholder="#374151">
                                </div>
                            </div>
                            <div>
                                <label class="block text-xs font-semibold text-gray-600 mb-1">ì •ë ¬ë°©ì‹</label>
                                <select id="expenseAlign" class="w-full px-3 py-2 border border-gray-300 rounded text-sm">
                                    <option value="left" selected>ì™¼ìª½ ì •ë ¬</option>
                                    <option value="center">ê°€ìš´ë° ì •ë ¬</option>
                                    <option value="right">ì˜¤ë¥¸ìª½ ì •ë ¬</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="mt-8 border border-gray-200 rounded-xl bg-white p-5">
                        <div class="grid md:grid-cols-2 gap-6">
                            <div>
                                <h5 class="font-bold text-gray-800 mb-3">í¬í•¨ë‚´ì—­</h5>
                                <ul id="incList" class="space-y-2 leading-relaxed"></ul>
                            </div>
                            <div>
                                <h5 class="font-bold text-gray-800 mb-3">ë¶ˆí¬í•¨ë‚´ì—­</h5>
                                <ul id="excList" class="space-y-2 leading-relaxed"></ul>
                            </div>
                        </div>
                        <div id="optBlock" class="mt-6">
                            <h5 class="font-bold text-gray-800 mb-3">ì„ íƒê²½ë¹„</h5>
                            <ul id="optList" class="space-y-2 leading-relaxed"></ul>
                        </div>
                        <p class="text-xs text-gray-500 mt-6">â€» ìœ„ ë‚´ìš©ì€ ì—¬í–‰ì‚¬ ê¸°ì¤€ ì˜ˆì‹œì´ë©°, ì‹¤ì œ í¬í•¨/ë¶ˆí¬í•¨/ì„ íƒ í•­ëª©ì€ ìƒí’ˆì— ë”°ë¼ ë³€ê²½ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                    </div>
                </div>

                <!-- ë¯¸íŒ… ì •ë³´ -->
                <div id="meetingSection" class="bg-purple-50 p-6 rounded-lg border-2 border-purple-200 meeting-section">
                    <h3 class="text-lg font-bold text-gray-800 mb-2 flex items-center justify-between">
                        <i class="fas fa-handshake text-purple-600 mr-2"></i>ë¯¸íŒ… ì •ë³´
                        <label class="inline-flex items-center gap-2 text-sm font-semibold text-purple-700 cursor-pointer">
                            <input type="checkbox" id="meetingSectionIncludeToggle" class="h-5 w-5 text-purple-600 border-2 border-purple-300 rounded focus:ring-purple-500" checked>
                            <span class="flex items-center gap-1"><i class="fas fa-eye text-yellow-500"></i>ë¯¸ë¦¬ë³´ê¸° í¬í•¨</span>
                        </label>
                    </h3>
                    <p class="text-sm text-purple-700 mb-4 flex items-center gap-2 meeting-section-hide">
                        <i class="fas fa-info-circle"></i>
                        ê³µí•­ ë° í˜„ì§€ ë¯¸íŒ… ì •ë³´ë¥¼ ê°ê° ì…ë ¥í•˜ê³ , ë¯¸ë¦¬ë³´ê¸° í¬í•¨ ì—¬ë¶€ë¥¼ ì„ íƒí•˜ì„¸ìš”.
                    </p>

                    <div class="meeting-card meeting-section-hide" data-meeting-card="airport">
                        <div class="meeting-card-header">
                            <div class="meeting-card-title">
                                <i class="fas fa-plane-departure meeting-card-icon"></i>
                                <span>ê³µí•­ ë¯¸íŒ…</span>
                            </div>
                            <label class="meeting-toggle-label cursor-pointer">
                                <input type="checkbox" id="airportMeetingInclude" class="meeting-include-toggle h-5 w-5 text-purple-600 border-2 border-purple-300 rounded focus:ring-purple-500" checked>
                                <i class="fas fa-eye text-yellow-500"></i>
                                <span>ë¯¸ë¦¬ë³´ê¸° í¬í•¨</span>
                            </label>
                        </div>
                        <div class="space-y-4">
                            <div class="grid md:grid-cols-3 gap-4">
                                <div class="md:col-span-1">
                                    <label class="block text-sm font-semibold text-gray-700 mb-2">ì¥ì†Œ</label>
                                    <input type="text" id="airportMeetingPlace"
                                        class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none"
                                        placeholder="ì˜ˆ: ì¸ì²œê³µí•­ ì œ1í„°ë¯¸ë„">
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold text-gray-700 mb-2">ë¯¸íŒ… ì¼ì</label>
                                    <input type="date" id="airportMeetingDate"
                                        class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none">
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold text-gray-700 mb-2">ë¯¸íŒ… ì‹œê°„</label>
                                    <input type="time" id="airportMeetingTime"
                                        class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none">
                                </div>
                            </div>
                            <div class="grid md:grid-cols-3 gap-4">
                                <div>
                                    <label class="block text-sm font-semibold text-gray-700 mb-2">ë‹´ë‹¹ì ì´ë¦„</label>
                                    <input type="text" id="airportMeetingContact"
                                        class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none"
                                        placeholder="ì˜ˆ: í™ê¸¸ë™">
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold text-gray-700 mb-2">ì „í™”ë²ˆí˜¸</label>
                                    <input type="tel" id="airportMeetingPhone"
                                        class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none"
                                        placeholder="ì˜ˆ: 010-1234-5678">
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold text-gray-700 mb-2">
                                        <i class="fas fa-image text-purple-600 mr-1"></i>ì´ë¯¸ì§€ (ì„ íƒ)
                                    </label>
                                    <input type="file" id="airportMeetingImage" accept="image/*"
                                        class="w-full px-3 py-2 text-sm border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none">
                                    <div id="airportMeetingImagePreview" class="mt-2 hidden">
                                        <img class="max-w-full h-32 object-contain rounded-lg border-2 border-gray-200">
                                        <button type="button" class="remove-image mt-1 text-red-500 text-sm hover:text-red-700">
                                            <i class="fas fa-times-circle mr-1"></i>ì´ë¯¸ì§€ ì œê±°
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="meeting-card meeting-section-hide" data-meeting-card="local">
                        <div class="meeting-card-header">
                            <div class="meeting-card-title">
                                <i class="fas fa-map-marker-alt meeting-card-icon"></i>
                                <span>í˜„ì§€ ë¯¸íŒ…</span>
                            </div>
                            <label class="meeting-toggle-label cursor-pointer">
                                <input type="checkbox" id="localMeetingInclude" class="meeting-include-toggle h-5 w-5 text-purple-600 border-2 border-purple-300 rounded focus:ring-purple-500" checked>
                                <i class="fas fa-eye text-yellow-500"></i>
                                <span>ë¯¸ë¦¬ë³´ê¸° í¬í•¨</span>
                            </label>
                        </div>
                        <div class="space-y-4">
                            <div class="grid md:grid-cols-3 gap-4">
                                <div class="md:col-span-1">
                                    <label class="block text-sm font-semibold text-gray-700 mb-2">ì¥ì†Œ</label>
                                    <input type="text" id="localMeetingPlace"
                                        class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none"
                                        placeholder="ì˜ˆ: ì œì£¼ê³µí•­ 1ì¸µ ë¡œë¹„">
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold text-gray-700 mb-2">ë¯¸íŒ… ì¼ì</label>
                                    <input type="date" id="localMeetingDate"
                                        class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none">
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold text-gray-700 mb-2">ë¯¸íŒ… ì‹œê°„</label>
                                    <input type="time" id="localMeetingTime"
                                        class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none">
                                </div>
                            </div>
                            <div class="grid md:grid-cols-3 gap-4">
                                <div>
                                    <label class="block text-sm font-semibold text-gray-700 mb-2">ê°€ì´ë“œ ì´ë¦„</label>
                                    <input type="text" id="localMeetingGuide"
                                        class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none"
                                        placeholder="ì˜ˆ: ê¹€ê°€ì´ë“œ">
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold text-gray-700 mb-2">ì „í™”ë²ˆí˜¸</label>
                                    <input type="tel" id="localMeetingPhone"
                                        class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none"
                                        placeholder="ì˜ˆ: 010-9876-5432">
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold text-gray-700 mb-2">
                                        <i class="fas fa-image text-purple-600 mr-1"></i>ì´ë¯¸ì§€ (ì„ íƒ)
                                    </label>
                                    <input type="file" id="localMeetingImage" accept="image/*"
                                        class="w-full px-3 py-2 text-sm border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none">
                                    <div id="localMeetingImagePreview" class="mt-2 hidden">
                                        <img class="max-w-full h-32 object-contain rounded-lg border-2 border-gray-200">
                                        <button type="button" class="remove-image mt-1 text-red-500 text-sm hover:text-red-700">
                                            <i class="fas fa-times-circle mr-1"></i>ì´ë¯¸ì§€ ì œê±°
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ë¯¸íŒ… ì •ë³´ ë””ìì¸ ì„¤ì • -->
                    <div class="design-settings">
                        <p class="text-sm font-bold text-yellow-800 mb-2">
                            <i class="fas fa-palette mr-1"></i>ë¯¸íŒ… ì •ë³´ ë””ìì¸
                        </p>
                        <div class="grid md:grid-cols-4 gap-3">
                            <div>
                                <label class="block text-xs font-semibold text-gray-700 mb-1">ê¸€ê¼´</label>
                                <select id="meetingFont" class="w-full px-3 py-2 text-sm border-2 border-gray-300 rounded-lg focus:border-yellow-500 focus:outline-none">
                                    <optgroup label="ê¸°ë³¸ í°íŠ¸">
                                        <option value="'Noto Sans KR', sans-serif">Noto Sans (ê¸°ë³¸)</option>
                                        <option value="'Nanum Gothic', sans-serif">ë‚˜ëˆ”ê³ ë”•</option>
                                        <option value="'Nanum Myeongjo', serif">ë‚˜ëˆ”ëª…ì¡°</option>
                                        <option value="'Black Han Sans', sans-serif">ê²€ì€ê³ ë”•</option>
                                        <option value="'Do Hyeon', sans-serif">ë„í˜„ì²´</option>
                                        <option value="'Jua', sans-serif">ì£¼ì•„ì²´</option>
                                        <option value="'Gamja Flower', cursive">ê°ìê½ƒì²´</option>
                                        <option value="'Sunflower', sans-serif">í•´ë°”ë¼ê¸°ì²´</option>
                                    </optgroup>
                                    <optgroup label="ì»¤ìŠ¤í…€ í°íŠ¸">
                                        <option value="'Pretendard-ExtraBold', sans-serif">Pretendard ExtraBold</option>
                                        <option value="'Pretendard-Light', sans-serif">Pretendard Light</option>
                                        <option value="'Pretendard-Medium', sans-serif">Pretendard Medium</option>
                                        <option value="'Pretendard-Regular', sans-serif">Pretendard Regular</option>
                                        <option value="'Recipekorea', sans-serif">ë ˆì‹œí”¼ì½”ë¦¬ì•„ ë ˆì½”ì²´</option>
                                        <option value="'SB-Aggro-B', sans-serif">SB ì–´ê·¸ë¡œ B</option>
                                        <option value="'SB-Aggro-L', sans-serif">SB ì–´ê·¸ë¡œ L</option>
                                        <option value="'SB-Aggro-M', sans-serif">SB ì–´ê·¸ë¡œ M</option>
                                    </optgroup>
                                </select>
                            </div>
                            <div>
                                <label class="block text-xs font-semibold text-gray-700 mb-1">ê¸€ì í¬ê¸° (px)</label>
                                <input type="number" id="meetingFontSize" value="14" min="12" max="100"
                                    class="w-full px-3 py-2 text-sm border-2 border-gray-300 rounded-lg focus:border-yellow-500 focus:outline-none"
                                    placeholder="14">
                            </div>
                            <div>
                                <label class="block text-xs font-semibold text-gray-700 mb-1">ê¸€ì ìƒ‰ìƒ</label>
                                <div class="flex gap-2">
                                    <input type="color" id="meetingColor" value="#1f2937"
                                        class="h-10 w-16 border-2 border-gray-300 rounded-lg cursor-pointer">
                                    <input type="text" id="meetingColorHex" value="#1f2937"
                                        class="flex-1 px-3 py-2 text-sm border-2 border-gray-300 rounded-lg focus:border-yellow-500 focus:outline-none"
                                        placeholder="#1f2937">
                                </div>
                            </div>
                            <div>
                                <label class="block text-xs font-semibold text-gray-700 mb-1">ì •ë ¬ë°©ì‹</label>
                                <select id="meetingAlign" class="w-full px-3 py-2 text-sm border-2 border-gray-300 rounded-lg focus:border-yellow-500 focus:outline-none">
                                    <option value="left" selected>ì™¼ìª½ ì •ë ¬</option>
                                    <option value="center">ê°€ìš´ë° ì •ë ¬</option>
                                    <option value="right">ì˜¤ë¥¸ìª½ ì •ë ¬</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- í•­ê³µí¸ ì •ë³´ -->
                <div id="flightSection" class="bg-blue-50 p-6 rounded-lg border-2 border-blue-200 flight-section">
                    <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center justify-between">
                        <span><i class="fas fa-plane text-blue-600 mr-2"></i>í•­ê³µí¸ ì •ë³´</span>
                        <label class="inline-flex items-center gap-2 text-sm font-semibold text-blue-700 cursor-pointer">
                            <input type="checkbox" id="flightSectionIncludeToggle" class="h-5 w-5 text-blue-600 border-2 border-blue-300 rounded focus:ring-blue-500" checked>
                            <span class="flex items-center gap-1"><i class="fas fa-eye text-yellow-500"></i>ë¯¸ë¦¬ë³´ê¸° í¬í•¨</span>
                        </label>
                    </h3>
                    <div class="space-y-6 flight-section-hide">
                        <!-- ì¶œë°œí¸ -->
                        <div class="bg-white p-4 rounded-lg border-2 border-gray-200">
                            <h4 class="font-bold text-blue-700 mb-3">ì¶œë°œí¸</h4>
                            <div class="grid md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-semibold text-gray-700 mb-2">ì¶œë°œ ê³µí•­</label>
                                    <input type="text" id="departureAirport" required
                                        class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none"
                                        placeholder="ì˜ˆ: ì¸ì²œêµ­ì œê³µí•­">
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold text-gray-700 mb-2">ë„ì°© ê³µí•­</label>
                                    <input type="text" id="arrivalAirport" required
                                        class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none"
                                        placeholder="ì˜ˆ: ì œì£¼êµ­ì œê³µí•­">
                                </div>
                            </div>
                            <div class="grid md:grid-cols-4 gap-4 mt-4">
                                <div>
                                    <label class="block text-sm font-semibold text-gray-700 mb-2">ì¶œë°œ ì‹œê°„</label>
                                    <input type="time" id="departureTime" required
                                        class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none">
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold text-gray-700 mb-2">ë„ì°© ì‹œê°„</label>
                                    <input type="time" id="arrivalTime" required
                                        class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none">
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold text-gray-700 mb-2">í•­ê³µí¸ëª…</label>
                                    <input type="text" id="departureFlight" required
                                        class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none"
                                        placeholder="ì˜ˆ: KE1234">
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold text-gray-700 mb-2">ë¹„í–‰ì‹œê°„</label>
                                    <input type="text" id="departureFlightDuration"
                                        class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none"
                                        placeholder="ì˜ˆ: 1ì‹œê°„ 10ë¶„">
                                </div>
                            </div>
                        </div>
                        
                        <!-- ê·€êµ­í¸ -->
                        <div class="bg-white p-4 rounded-lg border-2 border-gray-200">
                            <h4 class="font-bold text-blue-700 mb-3">ê·€êµ­í¸</h4>
                            <div class="grid md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-semibold text-gray-700 mb-2">ì¶œë°œ ê³µí•­</label>
                                    <input type="text" id="returnDepartureAirport" required
                                        class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none"
                                        placeholder="ì˜ˆ: ì œì£¼êµ­ì œê³µí•­">
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold text-gray-700 mb-2">ë„ì°© ê³µí•­</label>
                                    <input type="text" id="returnArrivalAirport" required
                                        class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none"
                                        placeholder="ì˜ˆ: ì¸ì²œêµ­ì œê³µí•­">
                                </div>
                            </div>
                            <div class="grid md:grid-cols-4 gap-4 mt-4">
                                <div>
                                    <label class="block text-sm font-semibold text-gray-700 mb-2">ì¶œë°œ ì‹œê°„</label>
                                    <input type="time" id="returnDepartureTime" required
                                        class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none">
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold text-gray-700 mb-2">ë„ì°© ì‹œê°„</label>
                                    <input type="time" id="returnArrivalTime" required
                                        class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none">
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold text-gray-700 mb-2">í•­ê³µí¸ëª…</label>
                                    <input type="text" id="returnFlight" required
                                        class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none"
                                        placeholder="ì˜ˆ: KE5678">
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold text-gray-700 mb-2">ë¹„í–‰ì‹œê°„</label>
                                    <input type="text" id="returnFlightDuration"
                                        class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none"
                                        placeholder="ì˜ˆ: 1ì‹œê°„ 10ë¶„">
                                </div>
                            </div>
                        </div>
                        
                        <!-- í•­ê³µí¸ ì´ë¯¸ì§€ -->
                        <div class="mt-3">
                            <label class="block text-sm font-semibold text-gray-700 mb-2">
                                <i class="fas fa-image text-blue-600 mr-1"></i>í•­ê³µí¸ ì´ë¯¸ì§€ (ì„ íƒ)
                            </label>
                            <input type="file" id="flightImage" accept="image/*"
                                class="w-full px-3 py-2 text-sm border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none">
                            <div id="flightImagePreview" class="mt-2 hidden">
                                <img class="max-w-full h-32 object-contain rounded-lg border-2 border-gray-200">
                                <button type="button" class="remove-image mt-1 text-red-500 text-sm hover:text-red-700">
                                    <i class="fas fa-times-circle mr-1"></i>ì´ë¯¸ì§€ ì œê±°
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- í•­ê³µí¸ ì •ë³´ ë””ìì¸ ì„¤ì • -->
                    <div class="design-settings flight-section-hide">
                        <p class="text-sm font-bold text-yellow-800 mb-2">
                            <i class="fas fa-palette mr-1"></i>í•­ê³µí¸ ì •ë³´ ë””ìì¸
                        </p>
                        <div class="grid md:grid-cols-4 gap-3">
                            <div>
                                <label class="block text-xs font-semibold text-gray-700 mb-1">ê¸€ê¼´</label>
                                <select id="flightFont" class="w-full px-3 py-2 text-sm border-2 border-gray-300 rounded-lg focus:border-yellow-500 focus:outline-none">
                                    <optgroup label="ê¸°ë³¸ í°íŠ¸">
                                        <option value="'Noto Sans KR', sans-serif">Noto Sans (ê¸°ë³¸)</option>
                                        <option value="'Nanum Gothic', sans-serif">ë‚˜ëˆ”ê³ ë”•</option>
                                        <option value="'Nanum Myeongjo', serif">ë‚˜ëˆ”ëª…ì¡°</option>
                                        <option value="'Black Han Sans', sans-serif">ê²€ì€ê³ ë”•</option>
                                        <option value="'Do Hyeon', sans-serif">ë„í˜„ì²´</option>
                                        <option value="'Jua', sans-serif">ì£¼ì•„ì²´</option>
                                        <option value="'Gamja Flower', cursive">ê°ìê½ƒì²´</option>
                                        <option value="'Sunflower', sans-serif">í•´ë°”ë¼ê¸°ì²´</option>
                                    </optgroup>
                                    <optgroup label="ì»¤ìŠ¤í…€ í°íŠ¸">
                                        <option value="'Pretendard-ExtraBold', sans-serif">Pretendard ExtraBold</option>
                                        <option value="'Pretendard-Light', sans-serif">Pretendard Light</option>
                                        <option value="'Pretendard-Medium', sans-serif">Pretendard Medium</option>
                                        <option value="'Pretendard-Regular', sans-serif">Pretendard Regular</option>
                                        <option value="'Recipekorea', sans-serif">ë ˆì‹œí”¼ì½”ë¦¬ì•„ ë ˆì½”ì²´</option>
                                        <option value="'SB-Aggro-B', sans-serif">SB ì–´ê·¸ë¡œ B</option>
                                        <option value="'SB-Aggro-L', sans-serif">SB ì–´ê·¸ë¡œ L</option>
                                        <option value="'SB-Aggro-M', sans-serif">SB ì–´ê·¸ë¡œ M</option>
                                    </optgroup>
                                </select>
                            </div>
                            <div>
                                <label class="block text-xs font-semibold text-gray-700 mb-1">ê¸€ì í¬ê¸° (px)</label>
                                <input type="number" id="flightFontSize" value="14" min="12" max="100"
                                    class="w-full px-3 py-2 text-sm border-2 border-gray-300 rounded-lg focus:border-yellow-500 focus:outline-none"
                                    placeholder="14">
                            </div>
                            <div>
                                <label class="block text-xs font-semibold text-gray-700 mb-1">ê¸€ì ìƒ‰ìƒ</label>
                                <div class="flex gap-2">
                                    <input type="color" id="flightColor" value="#1f2937"
                                        class="h-10 w-16 border-2 border-gray-300 rounded-lg cursor-pointer">
                                    <input type="text" id="flightColorHex" value="#1f2937"
                                        class="flex-1 px-3 py-2 text-sm border-2 border-gray-300 rounded-lg focus:border-yellow-500 focus:outline-none"
                                        placeholder="#1f2937">
                                </div>
                            </div>
                            <div>
                                <label class="block text-xs font-semibold text-gray-700 mb-1">ì •ë ¬ë°©ì‹</label>
                                <select id="flightAlign" class="w-full px-3 py-2 text-sm border-2 border-gray-300 rounded-lg focus:border-yellow-500 focus:outline-none">
                                    <option value="left" selected>ì™¼ìª½ ì •ë ¬</option>
                                    <option value="center">ê°€ìš´ë° ì •ë ¬</option>
                                    <option value="right">ì˜¤ë¥¸ìª½ ì •ë ¬</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ê°„ëµ ì¼ì •í‘œ -->
                <div class="bg-green-50 p-6 rounded-lg border-2 border-green-200">
                    <h3 class="text-lg font-bold text-gray-800 mb-4">
                        <i class="fas fa-calendar-alt text-green-600 mr-2"></i>ê°„ëµ ì¼ì •í‘œ
                    </h3>
                    <div id="scheduleContainer" class="space-y-4">
                        <div class="schedule-item bg-white p-4 rounded-lg border-2 border-gray-200">
							<div class="space-y-3">
								<div>
									<label class="block text-sm font-semibold text-gray-700 mb-2">Day</label>
									<input type="text" class="schedule-day w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-green-500 focus:outline-none"
										placeholder="ì˜ˆ: Day 1">
								</div>
								<div>
									<label class="block text-sm font-semibold text-gray-700 mb-2">ë‚ ì§œ</label>
									<input type="date" class="schedule-date w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-green-500 focus:outline-none">
								</div>
								<div>
									<label class="block text-sm font-semibold text-gray-700 mb-2">ì¼ì • ì œëª©</label>
									<textarea class="schedule-title w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-green-500 focus:outline-none" rows="2"
										placeholder="ì˜ˆ: íŒŒë¦¬ ì‹œë‚´ ê´€ê´‘ (ì—”í„°ë¡œ ì¤„ë°”ê¿ˆ ê°€ëŠ¥)"></textarea>
								</div>
							</div>
                            <!-- ì¼ì • ìƒì„¸ ë‚´ìš© -->
                            <div class="mt-3 md:col-span-3">
                                <label class="block text-sm font-semibold text-gray-700 mb-2">ì„¸ë¶€ ì¼ì •</label>
                                <textarea class="schedule-detail w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-green-500 focus:outline-none" rows="3"
                                    placeholder="ë°©ë¬¸ ì¥ì†Œ, í™œë™, ì‹ì‚¬ ë“± ìƒì„¸ ì¼ì •ì„ ì…ë ¥í•˜ì„¸ìš”"></textarea>
                            </div>
                            <!-- ìˆ™ì†Œ ë° ì‹ì‚¬ -->
                            <div class="grid md:grid-cols-2 gap-4 mt-3">
                                <div>
                                    <label class="block text-sm font-semibold text-gray-700 mb-2">ìˆ™ì†Œ</label>
									<textarea class="schedule-hotel w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-green-500 focus:outline-none" rows="2"
										placeholder="ì˜ˆ: íŒŒë¦¬ ííŠ¼ í˜¸í…” (ì—”í„°ë¡œ ì¤„ë°”ê¿ˆ ê°€ëŠ¥)"></textarea>
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold text-gray-700 mb-2">ì‹ì‚¬</label>
									<textarea class="schedule-meal w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-green-500 focus:outline-none" rows="2"
										placeholder="ì˜ˆ: ì¡°ì‹ í¬í•¨, ì¤‘ì‹ í˜„ì§€ì‹ (ì—”í„°ë¡œ ì¤„ë°”ê¿ˆ ê°€ëŠ¥)"></textarea>
                                </div>
                            </div>
                            <!-- ì¼ì • ì´ë¯¸ì§€ -->
                            <div class="mt-3">
                                <label class="block text-sm font-semibold text-gray-700 mb-2">
                                    <i class="fas fa-image text-green-600 mr-1"></i>ì¼ì • ì´ë¯¸ì§€ (ì„ íƒ)
                                </label>
                                <input type="file" class="schedule-image w-full px-3 py-2 text-sm border-2 border-gray-300 rounded-lg focus:border-green-500 focus:outline-none" accept="image/*">
                                <div class="schedule-image-preview mt-2 hidden">
                                    <img class="max-w-full h-32 object-contain rounded-lg border-2 border-gray-200">
                                    <button type="button" class="remove-schedule-image mt-1 text-red-500 text-sm hover:text-red-700">
                                        <i class="fas fa-times-circle mr-1"></i>ì´ë¯¸ì§€ ì œê±°
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button type="button" id="addSchedule" class="mt-4 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition">
                        <i class="fas fa-plus mr-2"></i>ì¼ì • ì¶”ê°€
                    </button>
                    
                    <!-- ì¼ì •í‘œ ë””ìì¸ ì„¤ì • -->
                    <div class="design-settings">
                        <p class="text-sm font-bold text-yellow-800 mb-2">
                            <i class="fas fa-palette mr-1"></i>ì¼ì •í‘œ ë””ìì¸
                        </p>
                        <div class="grid md:grid-cols-4 gap-3">
                            <div>
                                <label class="block text-xs font-semibold text-gray-700 mb-1">ê¸€ê¼´</label>
                                <select id="teeupFont" class="w-full px-3 py-2 text-sm border-2 border-gray-300 rounded-lg focus:border-yellow-500 focus:outline-none">
                                    <optgroup label="ê¸°ë³¸ í°íŠ¸">
                                        <option value="'Noto Sans KR', sans-serif">Noto Sans (ê¸°ë³¸)</option>
                                        <option value="'Nanum Gothic', sans-serif">ë‚˜ëˆ”ê³ ë”•</option>
                                        <option value="'Nanum Myeongjo', serif">ë‚˜ëˆ”ëª…ì¡°</option>
                                        <option value="'Black Han Sans', sans-serif">ê²€ì€ê³ ë”•</option>
                                        <option value="'Do Hyeon', sans-serif">ë„í˜„ì²´</option>
                                        <option value="'Jua', sans-serif">ì£¼ì•„ì²´</option>
                                        <option value="'Gamja Flower', cursive">ê°ìê½ƒì²´</option>
                                        <option value="'Sunflower', sans-serif">í•´ë°”ë¼ê¸°ì²´</option>
                                    </optgroup>
                                    <optgroup label="ì»¤ìŠ¤í…€ í°íŠ¸">
                                        <option value="'Pretendard-ExtraBold', sans-serif">Pretendard ExtraBold</option>
                                        <option value="'Pretendard-Light', sans-serif">Pretendard Light</option>
                                        <option value="'Pretendard-Medium', sans-serif">Pretendard Medium</option>
                                        <option value="'Pretendard-Regular', sans-serif">Pretendard Regular</option>
                                        <option value="'Recipekorea', sans-serif">ë ˆì‹œí”¼ì½”ë¦¬ì•„ ë ˆì½”ì²´</option>
                                        <option value="'SB-Aggro-B', sans-serif">SB ì–´ê·¸ë¡œ B</option>
                                        <option value="'SB-Aggro-L', sans-serif">SB ì–´ê·¸ë¡œ L</option>
                                        <option value="'SB-Aggro-M', sans-serif">SB ì–´ê·¸ë¡œ M</option>
                                    </optgroup>
                                </select>
                            </div>
                            <div>
                                <label class="block text-xs font-semibold text-gray-700 mb-1">ê¸€ì í¬ê¸° (px)</label>
                                <input type="number" id="teeupFontSize" value="14" min="12" max="100"
                                    class="w-full px-3 py-2 text-sm border-2 border-gray-300 rounded-lg focus:border-yellow-500 focus:outline-none"
                                    placeholder="14">
                            </div>
                            <div>
                                <label class="block text-xs font-semibold text-gray-700 mb-1">ê¸€ì ìƒ‰ìƒ</label>
                                <div class="flex gap-2">
                                    <input type="color" id="teeupColor" value="#1f2937"
                                        class="h-10 w-16 border-2 border-gray-300 rounded-lg cursor-pointer">
                                    <input type="text" id="teeupColorHex" value="#1f2937"
                                        class="flex-1 px-3 py-2 text-sm border-2 border-gray-300 rounded-lg focus:border-yellow-500 focus:outline-none"
                                        placeholder="#1f2937">
                                </div>
                            </div>
                            <div>
                                <label class="block text-xs font-semibold text-gray-700 mb-1">ì •ë ¬ë°©ì‹</label>
                                <select id="teeupAlign" class="w-full px-3 py-2 text-sm border-2 border-gray-300 rounded-lg focus:border-yellow-500 focus:outline-none">
                                    <option value="left" selected>ì™¼ìª½ ì •ë ¬</option>
                                    <option value="center">ê°€ìš´ë° ì •ë ¬</option>
                                    <option value="right">ì˜¤ë¥¸ìª½ ì •ë ¬</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ìˆ™ì†Œ ì •ë³´ (ì„ íƒì‚¬í•­) -->
                <div class="bg-orange-50 p-6 rounded-lg border-2 border-orange-200" style="display: none;">
                    <h3 class="text-lg font-bold text-gray-800 mb-4">
                        <i class="fas fa-hotel text-orange-600 mr-2"></i>ìˆ™ì†Œ ì •ë³´
                    </h3>
                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-2">ìˆ™ì†Œëª…</label>
                        <input type="text" id="accommodation"
                            class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-orange-500 focus:outline-none"
                            placeholder="ì˜ˆ: ì œì£¼ ì‹ ë¼í˜¸í…”">
                    </div>
                    <div class="mt-4">
                        <label class="block text-sm font-semibold text-gray-700 mb-2">ìˆ™ì†Œ ì£¼ì†Œ (ì„ íƒ)</label>
                        <input type="text" id="accommodationAddress"
                            class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-orange-500 focus:outline-none"
                            placeholder="ì˜ˆ: ì œì£¼ì‹œ ì¤‘ë¬¸ê´€ê´‘ë¡œ 72">
                    </div>
                    
                    <!-- ìˆ™ì†Œ ì´ë¯¸ì§€ -->
                    <div class="mt-4">
                        <label class="block text-sm font-semibold text-gray-700 mb-2">
                            <i class="fas fa-image text-orange-600 mr-1"></i>ìˆ™ì†Œ ì´ë¯¸ì§€ (ì„ íƒ)
                        </label>
                        <input type="file" id="accommodationImage" accept="image/*"
                            class="w-full px-3 py-2 text-sm border-2 border-gray-300 rounded-lg focus:border-orange-500 focus:outline-none">
                        <div id="accommodationImagePreview" class="mt-2 hidden">
                            <img class="max-w-full h-32 object-contain rounded-lg border-2 border-gray-200">
                            <button type="button" class="remove-image mt-1 text-red-500 text-sm hover:text-red-700">
                                <i class="fas fa-times-circle mr-1"></i>ì´ë¯¸ì§€ ì œê±°
                            </button>
                        </div>
                    </div>
                    
                    <!-- ìˆ™ì†Œ ì •ë³´ ë””ìì¸ ì„¤ì • -->
                    <div class="design-settings">
                        <p class="text-sm font-bold text-yellow-800 mb-2">
                            <i class="fas fa-palette mr-1"></i>ìˆ™ì†Œ ì •ë³´ ë””ìì¸
                        </p>
                        <div class="grid md:grid-cols-3 gap-3">
                            <div>
                                <label class="block text-xs font-semibold text-gray-700 mb-1">ê¸€ê¼´</label>
                                <select id="accommodationFont" class="w-full px-3 py-2 text-sm border-2 border-gray-300 rounded-lg focus:border-yellow-500 focus:outline-none">
                                    <optgroup label="ê¸°ë³¸ í°íŠ¸">
                                        <option value="'Noto Sans KR', sans-serif">Noto Sans (ê¸°ë³¸)</option>
                                        <option value="'Nanum Gothic', sans-serif">ë‚˜ëˆ”ê³ ë”•</option>
                                        <option value="'Nanum Myeongjo', serif">ë‚˜ëˆ”ëª…ì¡°</option>
                                        <option value="'Black Han Sans', sans-serif">ê²€ì€ê³ ë”•</option>
                                        <option value="'Do Hyeon', sans-serif">ë„í˜„ì²´</option>
                                        <option value="'Jua', sans-serif">ì£¼ì•„ì²´</option>
                                        <option value="'Gamja Flower', cursive">ê°ìê½ƒì²´</option>
                                        <option value="'Sunflower', sans-serif">í•´ë°”ë¼ê¸°ì²´</option>
                                    </optgroup>
                                    <optgroup label="ì»¤ìŠ¤í…€ í°íŠ¸">
                                        <option value="'Pretendard-ExtraBold', sans-serif">Pretendard ExtraBold</option>
                                        <option value="'Pretendard-Light', sans-serif">Pretendard Light</option>
                                        <option value="'Pretendard-Medium', sans-serif">Pretendard Medium</option>
                                        <option value="'Pretendard-Regular', sans-serif">Pretendard Regular</option>
                                        <option value="'Recipekorea', sans-serif">ë ˆì‹œí”¼ì½”ë¦¬ì•„ ë ˆì½”ì²´</option>
                                        <option value="'SB-Aggro-B', sans-serif">SB ì–´ê·¸ë¡œ B</option>
                                        <option value="'SB-Aggro-L', sans-serif">SB ì–´ê·¸ë¡œ L</option>
                                        <option value="'SB-Aggro-M', sans-serif">SB ì–´ê·¸ë¡œ M</option>
                                    </optgroup>
                                </select>
                            </div>
                            <div>
                                <label class="block text-xs font-semibold text-gray-700 mb-1">ê¸€ì ìƒ‰ìƒ</label>
                                <div class="flex gap-2">
                                    <input type="color" id="accommodationColor" value="#1f2937"
                                        class="h-10 w-16 border-2 border-gray-300 rounded-lg cursor-pointer">
                                    <input type="text" id="accommodationColorHex" value="#1f2937"
                                        class="flex-1 px-3 py-2 text-sm border-2 border-gray-300 rounded-lg focus:border-yellow-500 focus:outline-none"
                                        placeholder="#1f2937">
                                </div>
                            </div>
                            <div>
                                <label class="block text-xs font-semibold text-gray-700 mb-1">ì •ë ¬ë°©ì‹</label>
                                <select id="accommodationAlign" class="w-full px-3 py-2 text-sm border-2 border-gray-300 rounded-lg focus:border-yellow-500 focus:outline-none">
                                    <option value="left" selected>ì™¼ìª½ ì •ë ¬</option>
                                    <option value="center">ê°€ìš´ë° ì •ë ¬</option>
                                    <option value="right">ì˜¤ë¥¸ìª½ ì •ë ¬</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- í˜„ì§€ ì •ë³´ -->
                <div class="bg-pink-50 p-6 rounded-lg border-2 border-pink-200">
                    <div class="flex items-center gap-3 mb-4">
                        <i class="fas fa-globe text-pink-600"></i>
                        <select id="additionalTitle" class="px-4 py-2 text-lg font-bold border-2 border-pink-300 rounded-lg focus:border-pink-500 focus:outline-none bg-white">
                            <option value="í˜„ì§€ ì •ë³´">í˜„ì§€ ì •ë³´</option>
                            <option value="ë¹„ê³ ì‚¬í•­">ë¹„ê³ ì‚¬í•­</option>
                        </select>
                        <span class="text-sm text-gray-500">(ì„ íƒ)</span>
                    </div>
                    <textarea id="additionalInfo" rows="4"
                        class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-pink-500 focus:outline-none"
                        placeholder="ì¤€ë¹„ë¬¼, ì£¼ì˜ì‚¬í•­ ë“± ì¶”ê°€ë¡œ ì „ë‹¬í•  ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”"></textarea>
                    
                    <!-- í˜„ì§€ ì •ë³´ ë””ìì¸ ì„¤ì • -->
                    <div class="design-settings">
                        <p class="text-sm font-bold text-yellow-800 mb-2">
                            <i class="fas fa-palette mr-1"></i>í˜„ì§€ ì •ë³´ ë””ìì¸
                        </p>
                        <div class="grid md:grid-cols-4 gap-3">
                            <div>
                                <label class="block text-xs font-semibold text-gray-700 mb-1">ê¸€ê¼´</label>
                                <select id="additionalFont" class="w-full px-3 py-2 text-sm border-2 border-gray-300 rounded-lg focus:border-yellow-500 focus:outline-none">
                                    <optgroup label="ê¸°ë³¸ í°íŠ¸">
                                        <option value="'Noto Sans KR', sans-serif">Noto Sans (ê¸°ë³¸)</option>
                                        <option value="'Nanum Gothic', sans-serif">ë‚˜ëˆ”ê³ ë”•</option>
                                        <option value="'Nanum Myeongjo', serif">ë‚˜ëˆ”ëª…ì¡°</option>
                                        <option value="'Black Han Sans', sans-serif">ê²€ì€ê³ ë”•</option>
                                        <option value="'Do Hyeon', sans-serif">ë„í˜„ì²´</option>
                                        <option value="'Jua', sans-serif">ì£¼ì•„ì²´</option>
                                        <option value="'Gamja Flower', cursive">ê°ìê½ƒì²´</option>
                                        <option value="'Sunflower', sans-serif">í•´ë°”ë¼ê¸°ì²´</option>
                                    </optgroup>
                                    <optgroup label="ì»¤ìŠ¤í…€ í°íŠ¸">
                                        <option value="'Pretendard-ExtraBold', sans-serif">Pretendard ExtraBold</option>
                                        <option value="'Pretendard-Light', sans-serif">Pretendard Light</option>
                                        <option value="'Pretendard-Medium', sans-serif">Pretendard Medium</option>
                                        <option value="'Pretendard-Regular', sans-serif">Pretendard Regular</option>
                                        <option value="'Recipekorea', sans-serif">ë ˆì‹œí”¼ì½”ë¦¬ì•„ ë ˆì½”ì²´</option>
                                        <option value="'SB-Aggro-B', sans-serif">SB ì–´ê·¸ë¡œ B</option>
                                        <option value="'SB-Aggro-L', sans-serif">SB ì–´ê·¸ë¡œ L</option>
                                        <option value="'SB-Aggro-M', sans-serif">SB ì–´ê·¸ë¡œ M</option>
                                    </optgroup>
                                </select>
                            </div>
                            <div>
                                <label class="block text-xs font-semibold text-gray-700 mb-1">ê¸€ì í¬ê¸° (px)</label>
                                <input type="number" id="additionalFontSize" value="14" min="12" max="100"
                                    class="w-full px-3 py-2 text-sm border-2 border-gray-300 rounded-lg focus:border-yellow-500 focus:outline-none"
                                    placeholder="14">
                            </div>
                            <div>
                                <label class="block text-xs font-semibold text-gray-700 mb-1">ê¸€ì ìƒ‰ìƒ</label>
                                <div class="flex gap-2">
                                    <input type="color" id="additionalColor" value="#1f2937"
                                        class="h-10 w-16 border-2 border-gray-300 rounded-lg cursor-pointer">
                                    <input type="text" id="additionalColorHex" value="#1f2937"
                                        class="flex-1 px-3 py-2 text-sm border-2 border-gray-300 rounded-lg focus:border-yellow-500 focus:outline-none"
                                        placeholder="#1f2937">
                                </div>
                            </div>
                            <div>
                                <label class="block text-xs font-semibold text-gray-700 mb-1">ì •ë ¬ë°©ì‹</label>
                                <select id="additionalAlign" class="w-full px-3 py-2 text-sm border-2 border-gray-300 rounded-lg focus:border-yellow-500 focus:outline-none">
                                    <option value="left" selected>ì™¼ìª½ ì •ë ¬</option>
                                    <option value="center">ê°€ìš´ë° ì •ë ¬</option>
                                    <option value="right">ì˜¤ë¥¸ìª½ ì •ë ¬</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- íšŒì‚¬ ì •ë³´ -->
                <div class="bg-gray-50 p-6 rounded-lg border-2 border-gray-200">
                    <h3 class="text-lg font-bold text-gray-800 mb-4">
                        <i class="fas fa-building text-gray-600 mr-2"></i>íšŒì‚¬ ì •ë³´ (ì„ íƒ)
                    </h3>
                    
                    <!-- íšŒì‚¬ ë¡œê³  -->
                    <div class="mb-4">
                        <label class="block text-sm font-semibold text-gray-700 mb-2">
                            <i class="fas fa-image text-gray-600 mr-1"></i>íšŒì‚¬ ë¡œê³ 
                        </label>
                        <input type="file" id="companyLogo" accept="image/*"
                            class="w-full px-3 py-2 text-sm border-2 border-gray-300 rounded-lg focus:border-gray-500 focus:outline-none">
                        <div id="companyLogoPreview" class="mt-2 hidden">
                            <img class="max-w-full h-32 object-contain rounded-lg border-2 border-gray-200">
                            <button type="button" class="remove-image mt-1 text-red-500 text-sm hover:text-red-700">
                                <i class="fas fa-times-circle mr-1"></i>ì´ë¯¸ì§€ ì œê±°
                            </button>
                        </div>
                    </div>

                    <div class="grid md:grid-cols-2 gap-4">
                        <!-- íšŒì‚¬ëª… -->
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">íšŒì‚¬ëª…</label>
                            <input type="text" id="companyName"
                                class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-gray-500 focus:outline-none"
                                placeholder="ì˜ˆ: (ì£¼)ê³¨í”„íˆ¬ì–´">
                        </div>
                        
                        <!-- íšŒì‚¬ ì „í™”ë²ˆí˜¸ -->
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">ëŒ€í‘œ ì „í™”ë²ˆí˜¸</label>
							<div class="flex items-center gap-3">
								<input type="tel" id="companyPhone"
									class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-gray-500 focus:outline-none"
									placeholder="ì˜ˆ: 02-1234-5678">
								<label class="inline-flex items-center gap-2 text-sm font-semibold text-gray-700 cursor-pointer">
									<input type="checkbox" id="companyPhoneIncludeToggle" class="h-5 w-5 text-gray-600 border-2 border-gray-300 rounded" checked>
									<span class="flex items-center gap-1"><i class="fas fa-eye text-yellow-500"></i>ë¯¸ë¦¬ë³´ê¸° í¬í•¨</span>
								</label>
							</div>
                        </div>
                    </div>

                    <!-- íšŒì‚¬ ì£¼ì†Œ -->
                    <div class="mt-4">
                        <label class="block text-sm font-semibold text-gray-700 mb-2">íšŒì‚¬ ì£¼ì†Œ</label>
						<div class="flex items-center gap-3">
							<input type="text" id="companyAddress"
								class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-gray-500 focus:outline-none"
								placeholder="ì˜ˆ: ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123">
							<label class="inline-flex items-center gap-2 text-sm font-semibold text-gray-700 cursor-pointer">
								<input type="checkbox" id="companyAddressIncludeToggle" class="h-5 w-5 text-gray-600 border-2 border-gray-300 rounded" checked>
								<span class="flex items-center gap-1"><i class="fas fa-eye text-yellow-500"></i>ë¯¸ë¦¬ë³´ê¸° í¬í•¨</span>
							</label>
						</div>
                    </div>

                    <!-- ë‹´ë‹¹ì ì •ë³´ -->
                    <div class="mt-4 p-4 bg-white rounded-lg border-2 border-gray-200">
                        <h4 class="text-md font-bold text-gray-700 mb-3">
                            <i class="fas fa-user-tie text-gray-600 mr-1"></i>ë‹´ë‹¹ì ì •ë³´
                        </h4>
                        <div class="grid md:grid-cols-3 gap-4">
                            <!-- ë‹´ë‹¹ìëª… -->
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">ë‹´ë‹¹ìëª…</label>
                                <input type="text" id="managerName"
                                    class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-gray-500 focus:outline-none"
                                    placeholder="ì˜ˆ: í™ê¸¸ë™">
                            </div>
                            
                            <!-- ë‹´ë‹¹ì ì „í™”ë²ˆí˜¸ -->
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">ë‹´ë‹¹ì ì „í™”ë²ˆí˜¸</label>
                                <input type="tel" id="managerPhone"
                                    class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-gray-500 focus:outline-none"
                                    placeholder="ì˜ˆ: 010-1234-5678">
                            </div>
                            
                            <!-- ë‹´ë‹¹ì ì´ë©”ì¼ -->
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">ë‹´ë‹¹ì ì´ë©”ì¼</label>
                                <input type="email" id="managerEmail"
                                    class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-gray-500 focus:outline-none"
                                    placeholder="ì˜ˆ: hong@company.com">
                            </div>
                        </div>
                    </div>

                    <!-- íšŒì‚¬ ì •ë³´ ë””ìì¸ ì„¤ì • -->
                    <div class="design-settings">
                        <p class="text-sm font-bold text-yellow-800 mb-2">
                            <i class="fas fa-palette mr-1"></i>íšŒì‚¬ ì •ë³´ ë””ìì¸
                        </p>
                        <div class="grid md:grid-cols-4 gap-3">
                            <div>
                                <label class="block text-xs font-semibold text-gray-700 mb-1">ê¸€ê¼´</label>
                                <select id="companyFont" class="w-full px-3 py-2 text-sm border-2 border-gray-300 rounded-lg focus:border-yellow-500 focus:outline-none">
                                    <optgroup label="ê¸°ë³¸ í°íŠ¸">
                                        <option value="'Noto Sans KR', sans-serif">Noto Sans (ê¸°ë³¸)</option>
                                        <option value="'Nanum Gothic', sans-serif">ë‚˜ëˆ”ê³ ë”•</option>
                                        <option value="'Nanum Myeongjo', serif">ë‚˜ëˆ”ëª…ì¡°</option>
                                        <option value="'Black Han Sans', sans-serif">ê²€ì€ê³ ë”•</option>
                                        <option value="'Do Hyeon', sans-serif">ë„í˜„ì²´</option>
                                        <option value="'Jua', sans-serif">ì£¼ì•„ì²´</option>
                                        <option value="'Gamja Flower', cursive">ê°ìê½ƒì²´</option>
                                        <option value="'Sunflower', sans-serif">í•´ë°”ë¼ê¸°ì²´</option>
                                    </optgroup>
                                    <optgroup label="ì»¤ìŠ¤í…€ í°íŠ¸">
                                        <option value="'Pretendard-ExtraBold', sans-serif">Pretendard ExtraBold</option>
                                        <option value="'Pretendard-Light', sans-serif">Pretendard Light</option>
                                        <option value="'Pretendard-Medium', sans-serif">Pretendard Medium</option>
                                        <option value="'Pretendard-Regular', sans-serif">Pretendard Regular</option>
                                        <option value="'Recipekorea', sans-serif">ë ˆì‹œí”¼ì½”ë¦¬ì•„ ë ˆì½”ì²´</option>
                                        <option value="'SB-Aggro-B', sans-serif">SB ì–´ê·¸ë¡œ B</option>
                                        <option value="'SB-Aggro-L', sans-serif">SB ì–´ê·¸ë¡œ L</option>
                                        <option value="'SB-Aggro-M', sans-serif">SB ì–´ê·¸ë¡œ M</option>
                                    </optgroup>
                                </select>
                            </div>
                            <div>
                                <label class="block text-xs font-semibold text-gray-700 mb-1">ê¸€ì í¬ê¸° (px)</label>
                                <input type="number" id="companyFontSize" value="14" min="12" max="100"
                                    class="w-full px-3 py-2 text-sm border-2 border-gray-300 rounded-lg focus:border-yellow-500 focus:outline-none"
                                    placeholder="14">
                            </div>
                            <div>
                                <label class="block text-xs font-semibold text-gray-700 mb-1">ê¸€ì ìƒ‰ìƒ</label>
                                <div class="flex gap-2">
                                    <input type="color" id="companyColor" value="#1f2937"
                                        class="h-10 w-16 border-2 border-gray-300 rounded-lg cursor-pointer">
                                    <input type="text" id="companyColorHex" value="#1f2937"
                                        class="flex-1 px-3 py-2 text-sm border-2 border-gray-300 rounded-lg focus:border-yellow-500 focus:outline-none"
                                        placeholder="#1f2937">
                                </div>
                            </div>
                            <div>
                                <label class="block text-xs font-semibold text-gray-700 mb-1">ì •ë ¬ë°©ì‹</label>
                                <select id="companyAlign" class="w-full px-3 py-2 text-sm border-2 border-gray-300 rounded-lg focus:border-yellow-500 focus:outline-none">
                                    <option value="left" selected>ì™¼ìª½ ì •ë ¬</option>
                                    <option value="center">ê°€ìš´ë° ì •ë ¬</option>
                                    <option value="right">ì˜¤ë¥¸ìª½ ì •ë ¬</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ë²„íŠ¼ -->
                <div class="flex gap-4">
					<button type="submit" formnovalidate class="flex-1 bg-gradient-to-r from-purple-600 to-blue-600 text-white py-4 rounded-lg font-bold text-lg hover:shadow-lg transition">
                        <i class="fas fa-eye mr-2"></i>ë¯¸ë¦¬ë³´ê¸° & ê³µìœ í•˜ê¸°
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- ì €ì¥ ëª¨ë‹¬ -->
    <div id="saveModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-lg p-6 max-w-md w-full mx-4">
            <h3 class="text-xl font-bold mb-4">ì•ˆë‚´ë¬¸ ì €ì¥</h3>
            <input type="text" id="saveName" placeholder="ì €ì¥í•  ì´ë¦„ ì…ë ¥ (ì˜ˆ: ì œì£¼ë„ ê³¨í”„ 2024-01)"
                class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none mb-4">
            <div class="flex gap-3">
                <button id="confirmSave" class="flex-1 bg-green-500 hover:bg-green-600 text-white py-2 rounded-lg font-bold">
                    ì €ì¥
                </button>
                <button id="cancelSave" class="flex-1 bg-gray-500 hover:bg-gray-600 text-white py-2 rounded-lg font-bold">
                    ì·¨ì†Œ
                </button>
            </div>
        </div>
    </div>

    <!-- ë¶ˆëŸ¬ì˜¤ê¸° ëª¨ë‹¬ -->
    <div id="loadModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto">
            <h3 class="text-xl font-bold mb-4">ì €ì¥ëœ ì•ˆë‚´ë¬¸ ëª©ë¡</h3>
            <div id="savedList" class="space-y-2 mb-4"></div>
            <button id="closeLoad" class="w-full bg-gray-500 hover:bg-gray-600 text-white py-2 rounded-lg font-bold">
                ë‹«ê¸°
            </button>
        </div>
    </div>

    <!-- í…œí”Œë¦¿ ì €ì¥ ëª¨ë‹¬ -->
    <div id="templateSaveModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-lg p-6 max-w-md w-full mx-4">
            <h3 class="text-xl font-bold mb-4 flex items-center">
                <i class="fas fa-palette text-yellow-500 mr-2"></i>
                ë””ìì¸ í…œí”Œë¦¿ ì €ì¥
            </h3>
            <p class="text-sm text-gray-600 mb-4">í˜„ì¬ ì„¤ì •ëœ í°íŠ¸ì™€ ìƒ‰ìƒì„ í…œí”Œë¦¿ìœ¼ë¡œ ì €ì¥í•©ë‹ˆë‹¤.</p>
            <input type="text" id="templateName" placeholder="í…œí”Œë¦¿ ì´ë¦„ ì…ë ¥ (ì˜ˆ: ê³ ê¸‰ìŠ¤ëŸ¬ìš´ ë””ìì¸)"
                class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-yellow-500 focus:outline-none mb-4">
            <div class="flex gap-3">
                <button id="confirmTemplateSave" class="flex-1 bg-yellow-500 hover:bg-yellow-600 text-white py-2 rounded-lg font-bold">
                    ì €ì¥
                </button>
                <button id="closeTemplateSave" class="flex-1 bg-gray-500 hover:bg-gray-600 text-white py-2 rounded-lg font-bold">
                    ì·¨ì†Œ
                </button>
            </div>
        </div>
    </div>

    <!-- í…œí”Œë¦¿ ë¶ˆëŸ¬ì˜¤ê¸° ëª¨ë‹¬ -->
    <div id="templateLoadModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto">
            <h3 class="text-xl font-bold mb-4 flex items-center">
                <i class="fas fa-paint-brush text-orange-500 mr-2"></i>
                ì €ì¥ëœ ë””ìì¸ í…œí”Œë¦¿
            </h3>
            <p class="text-sm text-gray-600 mb-4">í…œí”Œë¦¿ì„ ì„ íƒí•˜ë©´ í°íŠ¸ì™€ ìƒ‰ìƒ ì„¤ì •ì´ ì ìš©ë©ë‹ˆë‹¤. (í…ìŠ¤íŠ¸ ë‚´ìš©ê³¼ ì´ë¯¸ì§€ëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€ë©ë‹ˆë‹¤)</p>
            <div id="templateList" class="space-y-2 mb-4"></div>
            <button id="closeTemplateLoad" class="w-full bg-gray-500 hover:bg-gray-600 text-white py-2 rounded-lg font-bold">
                ë‹«ê¸°
            </button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const $ = (sel, root=document) => root.querySelector(sel);
            const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));
            const encodeData = (obj) => encodeURIComponent(LZString.compressToEncodedURIComponent(JSON.stringify(obj)));
            const serializeForm = function () {
                const start = $('#startDate')?.value || '';
                const end = $('#endDate')?.value || '';
                const stripNum = (v) => (v || '').toString().replace(/[^\d]/g, '');
                const data = {
                    meta: {
                        title: $('#title')?.value || '',
                        titleStyle: {
                            font: $('#titleFont')?.value || '',
                            size: $('#titleFontSize')?.value || '36',
                            color: $('#titleColorHex')?.value || '#ffffff',
                            align: $('#titleAlign')?.value || 'center'
                        }
                    },
                    period: { start, end,
                        style: {
                            font: $('#periodFont')?.value || '',
                            size: $('#periodFontSize')?.value || '20',
                            color: $('#periodColorHex')?.value || '#ffffff',
                            align: $('#periodAlign')?.value || 'center'
                        }
                    },
                    prices: {
                        included: $('#priceIncludeToggle')?.checked ?? true,
                        adult: stripNum($('#adultPrice')?.value),
                        child: stripNum($('#childPrice')?.value),
                        infant: stripNum($('#infantPrice')?.value),
                        style: {
                            font: $('#priceFont')?.value || '',
                            size: $('#priceFontSize')?.value || '16',
                            color: $('#priceColorHex')?.value || '#1f2937',
                            align: $('#priceAlign')?.value || 'center'
                        }
                    },
                    expense: {
                        inc: {
                            transport: $('#incTransport')?.value || '',
                            hotel: $('#incHotel')?.value || '',
                            meal: $('#incMeal')?.value || '',
                            tour: $('#incTour')?.value || '',
                            insurance: $('#incInsurance')?.value || '',
                            guide: $('#incGuide')?.value || ''
                        },
                        exc: ($('#exclusions')?.value || '').split(/\r?\n/).map(s => s.trim()).filter(Boolean),
                        opt: ($('#optionals')?.value || '').split(/\r?\n/).map(s => s.trim()).filter(Boolean),
                        style: {
                            font: $('#expenseFont')?.value || '',
                            size: $('#expenseFontSize')?.value || '14',
                            color: $('#expenseColorHex')?.value || '#374151',
                            align: $('#expenseAlign')?.value || 'left'
                        }
                    },
                    meeting: {
                        sectionIncluded: $('#meetingSectionIncludeToggle')?.checked ?? true,
                        airport: {
                            include: $('#airportMeetingInclude')?.checked ?? true,
                            place: $('#meetingPlaceAirport')?.value || '',
                            date: $('#meetingDateAirport')?.value || '',
                            time: $('#meetingTimeAirport')?.value || '',
                            contact: $('#meetingHostAirport')?.value || '',
                            phone: $('#meetingPhoneAirport')?.value || ''
                        },
                        local: {
                            include: $('#localMeetingInclude')?.checked ?? true,
                            place: $('#meetingPlaceLocal')?.value || '',
                            date: $('#meetingDateLocal')?.value || '',
                            time: $('#meetingTimeLocal')?.value || '',
                            contact: $('#meetingGuideLocal')?.value || '',
                            phone: $('#meetingPhoneLocal')?.value || ''
                        },
                        style: {
                            font: $('#meetingFont')?.value || '',
                            size: $('#meetingFontSize')?.value || '14',
                            color: $('#meetingColorHex')?.value || '#1f2937',
                            align: $('#meetingAlign')?.value || 'left'
                        }
                    },
                    flight: {
                        sectionIncluded: $('#flightSectionIncludeToggle')?.checked ?? true,
                        out: {
                            depAirport: $('#departureAirport')?.value || '',
                            arrAirport: $('#arrivalAirport')?.value || '',
                            depTime: $('#departureTime')?.value || '',
                            arrTime: $('#arrivalTime')?.value || '',
                            flightNo: $('#departureFlight')?.value || '',
                            duration: $('#departureFlightDuration')?.value || ''
                        },
                        ret: {
                            depAirport: $('#returnDepartureAirport')?.value || '',
                            arrAirport: $('#returnArrivalAirport')?.value || '',
                            depTime: $('#returnDepartureTime')?.value || '',
                            arrTime: $('#returnArrivalTime')?.value || '',
                            flightNo: $('#returnFlight')?.value || '',
                            duration: $('#returnFlightDuration')?.value || ''
                        },
                        style: {
                            font: $('#flightFont')?.value || '',
                            size: $('#flightFontSize')?.value || '14',
                            color: $('#flightColorHex')?.value || '#1f2937',
                            align: $('#flightAlign')?.value || 'left'
                        }
                    },
                    schedules: $$('#scheduleContainer .schedule-item').map(item => ({
                        day: $('.schedule-day', item)?.value || '',
                        date: $('.schedule-date', item)?.value || '',
                        title: $('.schedule-title', item)?.value || '',
                        detail: $('.schedule-detail', item)?.value || '',
                        hotel: $('.schedule-hotel', item)?.value || '',
                        meal: $('.schedule-meal', item)?.value || ''
                    })),
                    scheduleStyle: {
                        font: $('#teeupFont')?.value || '',
                        size: $('#teeupFontSize')?.value || '14',
                        color: $('#teeupColorHex')?.value || '#1f2937',
                        align: $('#teeupAlign')?.value || 'left'
                    },
                    additional: {
                        title: $('#additionalTitle')?.value || 'í˜„ì§€ ì •ë³´',
                        text: $('#additionalInfo')?.value || '',
                        style: {
                            font: $('#additionalFont')?.value || '',
                            size: $('#additionalFontSize')?.value || '14',
                            color: $('#additionalColorHex')?.value || '#1f2937',
                            align: $('#additionalAlign')?.value || 'left'
                        }
                    },
                    company: {
                        name: $('#companyName')?.value || '',
                        phone: $('#companyPhone')?.value || '',
                        address: $('#companyAddress')?.value || '',
						showPhone: $('#companyPhoneIncludeToggle')?.checked ?? true,
						showAddress: $('#companyAddressIncludeToggle')?.checked ?? true,
                        manager: {
                            name: $('#managerName')?.value || '',
                            phone: $('#managerPhone')?.value || '',
                            email: $('#managerEmail')?.value || ''
                        },
                        style: {
                            font: $('#companyFont')?.value || '',
                            size: $('#companyFontSize')?.value || '14',
                            color: $('#companyColorHex')?.value || '#1f2937',
                            align: $('#companyAlign')?.value || 'left'
                        }
                    }
                };
                return data;
            };
            const priceFields = [
                { inputId: 'adultPrice', displayId: 'priceAdult' },
                { inputId: 'childPrice', displayId: 'priceChild' },
                { inputId: 'infantPrice', displayId: 'priceInfant' }
            ];

            const formatCurrency = function (value) {
                if (!value) return '-';
                const numeric = value.toString().replace(/[^\d]/g, '');
                if (!numeric) return '-';
                return new Intl.NumberFormat('ko-KR').format(Number(numeric)) + 'ì›';
            };

            priceFields.forEach(function (field) {
                const inputEl = document.getElementById(field.inputId);
                const displayEl = document.getElementById(field.displayId);
                if (!inputEl || !displayEl) {
                    return;
                }

                const updateDisplay = function () {
                    displayEl.textContent = formatCurrency(inputEl.value);
                };

                const formatInput = function () {
                    const numeric = inputEl.value.replace(/[^\d]/g, '');
                    inputEl.value = numeric ? new Intl.NumberFormat('ko-KR').format(Number(numeric)) : '';
                };

                inputEl.addEventListener('input', function () {
                    formatInput();
                    updateDisplay();
                });

                inputEl.addEventListener('blur', function () {
                    formatInput();
                    updateDisplay();
                });

                updateDisplay();
            });

            // ìƒí’ˆê°€ê²© ë¯¸ë¦¬ë³´ê¸° í¬í•¨ í† ê¸€
            (function () {
                const section = document.getElementById('priceSection');
                const toggle = document.getElementById('priceIncludeToggle');
                const content = document.getElementById('priceSectionContent');
                if (!section || !toggle || !content) return;

                const apply = function () {
                    const included = !!toggle.checked;
                    section.dataset.priceInclude = included ? 'true' : 'false';
                    content.classList.toggle('hidden', !included);
                };

                toggle.addEventListener('change', apply);
                apply();
            })();
			// ì‹œì‘ì¼/ì¢…ë£Œì¼ ê¸°ë°˜ ê°„ëµ ì¼ì • ìë™ ìƒì„±
			(function () {
				const startEl = document.getElementById('startDate');
				const endEl = document.getElementById('endDate');
				const container = document.getElementById('scheduleContainer');
				if (!startEl || !endEl || !container) return;

				const oneDayMs = 24 * 60 * 60 * 1000;
				const toDateStr = function (d) {
					const yyyy = d.getFullYear();
					const mm = String(d.getMonth() + 1).padStart(2, '0');
					const dd = String(d.getDate()).padStart(2, '0');
					return `${yyyy}-${mm}-${dd}`;
				};
				const hasUserContent = function () {
					return Array.from(container.querySelectorAll('.schedule-item')).some(function (item) {
						return Array.from(item.querySelectorAll('input[type="text"], textarea')).some(function (el) {
							return !!(el.value || '').trim();
						});
					});
				};
				const generate = function () {
					const s = startEl.value;
					const e = endEl.value;
					if (!s || !e) return;
					const start = new Date(s);
					const end = new Date(e);
					if (isNaN(start.getTime()) || isNaN(end.getTime()) || end < start) return;

					// ì‚¬ìš©ì ì…ë ¥ ë³´í˜¸
					if (hasUserContent()) {
						const ok = confirm('ê¸°ì¡´ ê°„ëµ ì¼ì •ì´ ì´ˆê¸°í™”ë©ë‹ˆë‹¤. ê³„ì†í•˜ì‹œê² ìŠµë‹ˆê¹Œ?');
						if (!ok) return;
					}

					const template = container.querySelector('.schedule-item');
					if (!template) return;

					// ë¹„ìš°ê³  ìƒì„±
					container.innerHTML = '';
					const totalDays = Math.floor((end.getTime() - start.getTime()) / oneDayMs) + 1;
					const maxDays = Math.min(totalDays, 60);
					for (let i = 0; i < maxDays; i++) {
						const item = template.cloneNode(true);

						// ì…ë ¥ ì´ˆê¸°í™”
						item.querySelectorAll('input, textarea').forEach(function (el) {
							if (el.type === 'file') {
								el.value = '';
							} else {
								el.value = '';
							}
						});

						// Day/ë‚ ì§œ ì„¸íŒ…
						const dayEl = item.querySelector('.schedule-day');
						const dateEl = item.querySelector('.schedule-date');
						if (dayEl) dayEl.value = `Day ${i + 1}`;
						if (dateEl) {
							const d = new Date(start.getTime() + i * oneDayMs);
							dateEl.value = toDateStr(d);
						}

						// ì´ë¯¸ì§€ í”„ë¦¬ë·° ì´ˆê¸°í™”/ë°”ì¸ë”© (ê°„ë‹¨ ë³µì œ)
						const previewWrap = item.querySelector('.schedule-image-preview');
						const previewImg = previewWrap ? previewWrap.querySelector('img') : null;
						const imageInput = item.querySelector('.schedule-image');
						const removeBtn = item.querySelector('.remove-schedule-image');
						if (previewWrap) previewWrap.classList.add('hidden');
						if (previewImg) previewImg.src = '';
						if (imageInput && previewWrap && previewImg) {
							imageInput.addEventListener('change', function () {
								if (imageInput.files && imageInput.files[0]) {
									const url = URL.createObjectURL(imageInput.files[0]);
									previewImg.src = url;
									previewWrap.classList.remove('hidden');
								} else {
									previewImg.src = '';
									previewWrap.classList.add('hidden');
								}
							});
						}
						if (removeBtn && imageInput && previewWrap && previewImg) {
							removeBtn.addEventListener('click', function () {
								imageInput.value = '';
								previewImg.src = '';
								previewWrap.classList.add('hidden');
							});
						}

						container.appendChild(item);
					}
				};

				startEl.addEventListener('change', generate);
				endEl.addEventListener('change', generate);
			})();

            // ë¯¸íŒ… ì •ë³´ ì„¹ì…˜ ì „ì²´ í† ê¸€
            (function () {
                const section = document.getElementById('meetingSection');
                const toggle = document.getElementById('meetingSectionIncludeToggle');
                if (!section || !toggle) return;

                const apply = function () {
                    section.classList.toggle('collapsed', !toggle.checked);
                };

                toggle.addEventListener('change', apply);
                apply();
            })();

            // í•­ê³µí¸ ì •ë³´ ì„¹ì…˜ ì „ì²´ í† ê¸€
            (function () {
                const section = document.getElementById('flightSection');
                const toggle = document.getElementById('flightSectionIncludeToggle');
                if (!section || !toggle) return;

                const apply = function () {
                    section.classList.toggle('collapsed', !toggle.checked);
					// ì„¹ì…˜ì´ ì œì™¸ë˜ë©´ í•´ë‹¹ ì…ë ¥ì˜ requiredë¥¼ í•´ì œí•˜ì—¬ ë¯¸ë¦¬ë³´ê¸° ì§„í–‰ì„ ë§‰ì§€ ì•ŠìŒ
					const reqIds = [
						'departureAirport','arrivalAirport','departureTime','arrivalTime','departureFlight',
						'returnDepartureAirport','returnArrivalAirport','returnDepartureTime','returnArrivalTime','returnFlight'
					];
					reqIds.forEach(function(id){
						const el = document.getElementById(id);
						if (!el) return;
						if (toggle.checked) {
							// í•„ìˆ˜ ë³µì›
							el.required = true;
						} else {
							el.required = false;
						}
					});
                };

                toggle.addEventListener('change', apply);
                apply();
            })();

            document.querySelectorAll('[data-meeting-card]').forEach(function (card) {
                const toggle = card.querySelector('.meeting-include-toggle');
                if (!toggle) {
                    return;
                }

                const updateState = function () {
                    card.dataset.include = toggle.checked ? 'true' : 'false';
                };

                toggle.addEventListener('change', updateState);
                updateState();
            });

            // ì¼ì • ì¶”ê°€/ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸° ë°”ì¸ë”©
            (function () {
                const container = document.getElementById('scheduleContainer');
                const addBtn = document.getElementById('addSchedule');
                if (!container || !addBtn) return;

                const bindScheduleItem = function (item) {
                    const imageInput = item.querySelector('.schedule-image');
                    const previewWrap = item.querySelector('.schedule-image-preview');
                    const previewImg = previewWrap ? previewWrap.querySelector('img') : null;
                    const removeBtn = item.querySelector('.remove-schedule-image');

                    if (imageInput && previewWrap && previewImg) {
                        imageInput.addEventListener('change', function () {
                            if (imageInput.files && imageInput.files[0]) {
                                const url = URL.createObjectURL(imageInput.files[0]);
                                previewImg.src = url;
                                previewWrap.classList.remove('hidden');
                            } else {
                                previewImg.src = '';
                                previewWrap.classList.add('hidden');
                            }
                        });
                    }

                    if (removeBtn && imageInput && previewWrap && previewImg) {
                        removeBtn.addEventListener('click', function () {
                            imageInput.value = '';
                            previewImg.src = '';
                            previewWrap.classList.add('hidden');
                        });
                    }
                };

                // ì´ˆê¸° ì•„ì´í…œ ë°”ì¸ë”©
                const firstItem = container.querySelector('.schedule-item');
                if (firstItem) bindScheduleItem(firstItem);

                // ì¼ì • ì¶”ê°€
                addBtn.addEventListener('click', function () {
                    const template = container.querySelector('.schedule-item');
                    if (!template) return;
                    const clone = template.cloneNode(true);

                    // ì…ë ¥ ì´ˆê¸°í™”
                    clone.querySelectorAll('input, textarea').forEach(function (el) {
                        if (el.type === 'file') {
                            el.value = '';
                        } else {
                            el.value = '';
                        }
                    });
                    // ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸° ì´ˆê¸°í™”
                    const previewWrap = clone.querySelector('.schedule-image-preview');
                    const previewImg = previewWrap ? previewWrap.querySelector('img') : null;
                    if (previewWrap) previewWrap.classList.add('hidden');
                    if (previewImg) previewImg.src = '';

                    container.appendChild(clone);
                    bindScheduleItem(clone);
                });
            })();
            // í¬í•¨/ë¶ˆí¬í•¨/ì„ íƒê²½ë¹„ ë Œë”ë§
            (function () {
                const sources = [
                    { id: 'incTransport', label: '[êµí†µ]' },
                    { id: 'incHotel', label: '[ìˆ™ë°•]' },
                    { id: 'incMeal', label: '[ì‹ì‚¬]' },
                    { id: 'incTour', label: '[ê´€ê´‘]' },
                    { id: 'incInsurance', label: '[ë³´í—˜]' },
                    { id: 'incGuide', label: '[ê°€ì´ë“œ]' }
                ];
                const incList = document.getElementById('incList');
                const excList = document.getElementById('excList');
                const optList = document.getElementById('optList');
                const optBlock = document.getElementById('optBlock');
                const exclusions = document.getElementById('exclusions');
                const optionals = document.getElementById('optionals');
                if (!incList || !excList || !optList) return;

                const createLi = function (symbol, title, text) {
                    const li = document.createElement('li');
                    li.className = 'flex items-start gap-2 text-sm';
                    const sym = document.createElement('span');
                    sym.textContent = symbol;
                    sym.className = 'mt-0.5 text-purple-600 font-bold';
                    const content = document.createElement('div');
                    const heading = document.createElement('div');
                    heading.className = 'font-semibold text-gray-800';
                    heading.textContent = title;
                    const desc = document.createElement('div');
                    desc.className = 'text-gray-600 text-sm leading-relaxed';
                    desc.textContent = text;
                    content.appendChild(heading);
                    if (text && text.trim()) content.appendChild(desc);
                    li.appendChild(sym);
                    li.appendChild(content);
                    return li;
                };

                const render = function () {
                    // í¬í•¨
                    incList.innerHTML = '';
                    sources.forEach(function (s) {
                        const el = document.getElementById(s.id);
                        if (!el) return;
                        const val = (el.value || '').trim();
                        if (val) incList.appendChild(createLi('â—‹', s.label, val));
                    });
                    if (!incList.children.length) {
                        const empty = document.createElement('li');
                        empty.className = 'text-gray-400 text-sm';
                        empty.textContent = 'ì…ë ¥ëœ í¬í•¨ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.';
                        incList.appendChild(empty);
                    }

                    // ë¶ˆí¬í•¨
                    excList.innerHTML = '';
                    const excLines = (exclusions?.value || '').split(/\r?\n/).map(function (l) { return l.trim(); }).filter(Boolean);
                    if (excLines.length) {
                        excLines.forEach(function (line) {
                            const li = document.createElement('li');
                            li.className = 'flex items-start gap-2 text-sm';
                            const sym = document.createElement('span');
                            sym.textContent = 'âœ•';
                            sym.className = 'mt-0.5 text-red-500 font-bold';
                            const text = document.createElement('div');
                            text.className = 'text-gray-600 leading-relaxed';
                            text.textContent = line;
                            li.appendChild(sym);
                            li.appendChild(text);
                            excList.appendChild(li);
                        });
                    } else {
                        const empty2 = document.createElement('li');
                        empty2.className = 'text-gray-400 text-sm';
                        empty2.textContent = 'ì…ë ¥ëœ ë¶ˆí¬í•¨ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.';
                        excList.appendChild(empty2);
                    }

                    // ì„ íƒê²½ë¹„
                    optList.innerHTML = '';
                    const optLines = (optionals?.value || '').split(/\r?\n/).map(function (l) { return l.trim(); }).filter(Boolean);
                    if (optLines.length) {
                        optLines.forEach(function (line) {
                            const li = document.createElement('li');
                            li.className = 'flex items-start gap-2 text-sm';
                            const sym = document.createElement('span');
                            sym.textContent = 'â—‹';
                            sym.className = 'mt-0.5 text-blue-500 font-bold';
                            const text = document.createElement('div');
                            text.className = 'text-gray-600 leading-relaxed';
                            text.textContent = line;
                            li.appendChild(sym);
                            li.appendChild(text);
                            optList.appendChild(li);
                        });
                        optBlock.classList.remove('hidden');
                    } else {
                        optBlock.classList.add('hidden');
                    }
                };

                sources.forEach(function (s) {
                    const el = document.getElementById(s.id);
                    el && el.addEventListener('input', render);
                });
                exclusions && exclusions.addEventListener('input', render);
                optionals && optionals.addEventListener('input', render);
                render();
            })();

            // ë¯¸ë¦¬ë³´ê¸° & ê³µìœ í•˜ê¸°, ì €ì¥/ë¶ˆëŸ¬ì˜¤ê¸°/í…œí”Œë¦¿
            (function () {
                const formEl = document.getElementById('travelForm');
                formEl && formEl.addEventListener('submit', function (e) {
                    e.preventDefault();
                    const data = serializeForm();
                    const payload = encodeData(data);
					const newWin = window.open(`preview.html?d=${payload}`, '_blank');
					if (!newWin || newWin.closed) {
						location.href = `preview.html?d=${payload}`;
					}
                });

                const STORAGE_KEY = 'travel_saves_v1';
                const TPL_KEY = 'travel_templates_v1';
                const getSaves = () => JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');
                const setSaves = (arr) => localStorage.setItem(STORAGE_KEY, JSON.stringify(arr));
                const getTemplates = () => JSON.parse(localStorage.getItem(TPL_KEY) || '[]');
                const setTemplates = (arr) => localStorage.setItem(TPL_KEY, JSON.stringify(arr));

                const saveBtn = document.getElementById('saveButton');
                const loadBtn = document.getElementById('loadButton');
                const saveModal = document.getElementById('saveModal');
                const loadModal = document.getElementById('loadModal');
                const confirmSave = document.getElementById('confirmSave');
                const cancelSave = document.getElementById('cancelSave');
                const saveName = document.getElementById('saveName');
                const savedList = document.getElementById('savedList');
                const closeLoad = document.getElementById('closeLoad');

                const renderSavedList = function () {
                    if (!savedList) return;
                    const list = getSaves();
                    savedList.innerHTML = '';
                    if (!list.length) {
                        const p = document.createElement('p');
                        p.className = 'text-sm text-gray-500';
                        p.textContent = 'ì €ì¥ëœ ì•ˆë‚´ë¬¸ì´ ì—†ìŠµë‹ˆë‹¤.';
                        savedList.appendChild(p);
                        return;
                    }
                    list.forEach(item => {
                        const row = document.createElement('div');
                        row.className = 'border border-gray-200 rounded-lg p-3 flex items-center justify-between gap-3';
                        const name = document.createElement('div');
                        name.className = 'font-semibold text-gray-800';
                        name.textContent = item.name;
                        const btns = document.createElement('div');
                        btns.className = 'flex gap-2';
                        const load = document.createElement('button');
                        load.className = 'px-3 py-1 bg-blue-500 text-white rounded-md text-sm';
                        load.textContent = 'ë¶ˆëŸ¬ì˜¤ê¸°';
                        load.addEventListener('click', function () {
                            // apply minimal fields
                            location.reload(); // simplest way to avoid event rebind issues
                            localStorage.setItem('__pending_load__', JSON.stringify(item.data));
                        });
                        const preview = document.createElement('button');
                        preview.className = 'px-3 py-1 bg-purple-500 text-white rounded-md text-sm';
                        preview.textContent = 'ë¯¸ë¦¬ë³´ê¸°';
                        preview.addEventListener('click', function () {
                            const payload = encodeData(item.data);
                            window.open(`preview.html?d=${payload}`, '_blank');
                        });
                        const del = document.createElement('button');
                        del.className = 'px-3 py-1 bg-gray-600 text-white rounded-md text-sm';
                        del.textContent = 'ì‚­ì œ';
                        del.addEventListener('click', function () {
                            const arr = getSaves().filter(s => s.id !== item.id);
                            setSaves(arr);
                            renderSavedList();
                        });
                        btns.appendChild(load);
                        btns.appendChild(preview);
                        btns.appendChild(del);
                        row.appendChild(name);
                        row.appendChild(btns);
                        savedList.appendChild(row);
                    });
                };

                saveBtn && saveBtn.addEventListener('click', function () {
                    saveName && (saveName.value = '');
                    saveModal && saveModal.classList.remove('hidden');
                    saveModal && saveModal.classList.add('flex');
                });
                cancelSave && cancelSave.addEventListener('click', function () {
                    saveModal && saveModal.classList.add('hidden');
                    saveModal && saveModal.classList.remove('flex');
                });
                confirmSave && confirmSave.addEventListener('click', function () {
                    const name = (saveName?.value || '').trim() || `ì•ˆë‚´ë¬¸ ${new Date().toLocaleString()}`;
                    const data = serializeForm();
                    const list = getSaves();
                    list.unshift({ id: Date.now(), name, data });
                    setSaves(list.slice(0, 100));
                    saveModal && saveModal.classList.add('hidden');
                    saveModal && saveModal.classList.remove('flex');
                    alert('ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.');
                });

                loadBtn && loadBtn.addEventListener('click', function () {
                    loadModal && loadModal.classList.remove('hidden');
                    loadModal && loadModal.classList.add('flex');
                    renderSavedList();
                });
                closeLoad && closeLoad.addEventListener('click', function () {
                    loadModal && loadModal.classList.add('hidden');
                    loadModal && loadModal.classList.remove('flex');
                });

                // í…œí”Œë¦¿
                const saveTplBtn = document.getElementById('saveTemplateButton');
                const loadTplBtn = document.getElementById('loadTemplateButton');
                const tplSaveModal = document.getElementById('templateSaveModal');
                const tplLoadModal = document.getElementById('templateLoadModal');
                const templateName = document.getElementById('templateName');
                const confirmTemplateSave = document.getElementById('confirmTemplateSave');
                const closeTemplateSave = document.getElementById('closeTemplateSave');
                const templateList = document.getElementById('templateList');
                const closeTemplateLoad = document.getElementById('closeTemplateLoad');

                const collectDesign = function () {
                    return {
                        title: { font: $('#titleFont')?.value, size: $('#titleFontSize')?.value, color: $('#titleColorHex')?.value, align: $('#titleAlign')?.value },
                        period: { font: $('#periodFont')?.value, size: $('#periodFontSize')?.value, color: $('#periodColorHex')?.value, align: $('#periodAlign')?.value },
                        price: { font: $('#priceFont')?.value, size: $('#priceFontSize')?.value, color: $('#priceColorHex')?.value, align: $('#priceAlign')?.value },
                        expense: { font: $('#expenseFont')?.value, size: $('#expenseFontSize')?.value, color: $('#expenseColorHex')?.value, align: $('#expenseAlign')?.value },
                        meeting: { font: $('#meetingFont')?.value, size: $('#meetingFontSize')?.value, color: $('#meetingColorHex')?.value, align: $('#meetingAlign')?.value },
                        flight: { font: $('#flightFont')?.value, size: $('#flightFontSize')?.value, color: $('#flightColorHex')?.value, align: $('#flightAlign')?.value },
                        schedule: { font: $('#teeupFont')?.value, size: $('#teeupFontSize')?.value, color: $('#teeupColorHex')?.value, align: $('#teeupAlign')?.value },
                        additional: { font: $('#additionalFont')?.value, size: $('#additionalFontSize')?.value, color: $('#additionalColorHex')?.value, align: $('#additionalAlign')?.value },
                        company: { font: $('#companyFont')?.value, size: $('#companyFontSize')?.value, color: $('#companyColorHex')?.value, align: $('#companyAlign')?.value }
                    };
                };
                const applyDesign = function (d) {
                    const set = (id, val) => { const el = document.getElementById(id); if (el && val != null) el.value = val; };
                    set('titleFont', d.title?.font); set('titleFontSize', d.title?.size); set('titleColorHex', d.title?.color); set('titleAlign', d.title?.align); $('#titleColor') && ($('#titleColor').value = d.title?.color || '#ffffff');
                    set('periodFont', d.period?.font); set('periodFontSize', d.period?.size); set('periodColorHex', d.period?.color); set('periodAlign', d.period?.align); $('#periodColor') && ($('#periodColor').value = d.period?.color || '#ffffff');
                    set('priceFont', d.price?.font); set('priceFontSize', d.price?.size); set('priceColorHex', d.price?.color); set('priceAlign', d.price?.align); $('#priceColor') && ($('#priceColor').value = d.price?.color || '#1f2937');
                    set('expenseFont', d.expense?.font); set('expenseFontSize', d.expense?.size); set('expenseColorHex', d.expense?.color); set('expenseAlign', d.expense?.align); $('#expenseColor') && ($('#expenseColor').value = d.expense?.color || '#374151');
                    set('meetingFont', d.meeting?.font); set('meetingFontSize', d.meeting?.size); set('meetingColorHex', d.meeting?.color); set('meetingAlign', d.meeting?.align); $('#meetingColor') && ($('#meetingColor').value = d.meeting?.color || '#1f2937');
                    set('flightFont', d.flight?.font); set('flightFontSize', d.flight?.size); set('flightColorHex', d.flight?.color); set('flightAlign', d.flight?.align); $('#flightColor') && ($('#flightColor').value = d.flight?.color || '#1f2937');
                    set('teeupFont', d.schedule?.font); set('teeupFontSize', d.schedule?.size); set('teeupColorHex', d.schedule?.color); set('teeupAlign', d.schedule?.align); $('#teeupColor') && ($('#teeupColor').value = d.schedule?.color || '#1f2937');
                    set('additionalFont', d.additional?.font); set('additionalFontSize', d.additional?.size); set('additionalColorHex', d.additional?.color); set('additionalAlign', d.additional?.align); $('#additionalColor') && ($('#additionalColor').value = d.additional?.color || '#1f2937');
                    set('companyFont', d.company?.font); set('companyFontSize', d.company?.size); set('companyColorHex', d.company?.color); set('companyAlign', d.company?.align); $('#companyColor') && ($('#companyColor').value = d.company?.color || '#1f2937');
                };

                saveTplBtn && saveTplBtn.addEventListener('click', function () {
                    templateName && (templateName.value = '');
                    tplSaveModal && tplSaveModal.classList.remove('hidden');
                    tplSaveModal && tplSaveModal.classList.add('flex');
                });
                closeTemplateSave && closeTemplateSave.addEventListener('click', function () {
                    tplSaveModal && tplSaveModal.classList.add('hidden');
                    tplSaveModal && tplSaveModal.classList.remove('flex');
                });
                confirmTemplateSave && confirmTemplateSave.addEventListener('click', function () {
                    const name = (templateName?.value || '').trim() || `í…œí”Œë¦¿ ${new Date().toLocaleString()}`;
                    const design = collectDesign();
                    const list = getTemplates();
                    list.unshift({ id: Date.now(), name, design });
                    setTemplates(list.slice(0, 100));
                    tplSaveModal && tplSaveModal.classList.add('hidden');
                    tplSaveModal && tplSaveModal.classList.remove('flex');
                    alert('ë””ìì¸ í…œí”Œë¦¿ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.');
                });

                const renderTemplates = function () {
                    if (!templateList) return;
                    const list = getTemplates();
                    templateList.innerHTML = '';
                    if (!list.length) {
                        const p = document.createElement('p');
                        p.className = 'text-sm text-gray-500';
                        p.textContent = 'ì €ì¥ëœ í…œí”Œë¦¿ì´ ì—†ìŠµë‹ˆë‹¤.';
                        templateList.appendChild(p);
                        return;
                    }
                    list.forEach(t => {
                        const row = document.createElement('div');
                        row.className = 'border border-gray-200 rounded-lg p-3 flex items-center justify-between gap-3';
                        const name = document.createElement('div');
                        name.className = 'font-semibold text-gray-800';
                        name.textContent = t.name;
                        const btns = document.createElement('div');
                        btns.className = 'flex gap-2';
                        const applyBtn = document.createElement('button');
                        applyBtn.className = 'px-3 py-1 bg-blue-500 text-white rounded-md text-sm';
                        applyBtn.textContent = 'ì ìš©';
                        applyBtn.addEventListener('click', function () {
                            applyDesign(t.design);
                            tplLoadModal && tplLoadModal.classList.add('hidden');
                            tplLoadModal && tplLoadModal.classList.remove('flex');
                            alert('í…œí”Œë¦¿ì´ ì ìš©ë˜ì—ˆìŠµë‹ˆë‹¤.');
                        });
                        const del = document.createElement('button');
                        del.className = 'px-3 py-1 bg-gray-600 text-white rounded-md text-sm';
                        del.textContent = 'ì‚­ì œ';
                        del.addEventListener('click', function () {
                            const arr = getTemplates().filter(x => x.id !== t.id);
                            setTemplates(arr);
                            renderTemplates();
                        });
                        btns.appendChild(applyBtn);
                        btns.appendChild(del);
                        row.appendChild(name);
                        row.appendChild(btns);
                        templateList.appendChild(row);
                    });
                };

                loadTplBtn && loadTplBtn.addEventListener('click', function () {
                    tplLoadModal && tplLoadModal.classList.remove('hidden');
                    tplLoadModal && tplLoadModal.classList.add('flex');
                    renderTemplates();
                });
                closeTemplateLoad && closeTemplateLoad.addEventListener('click', function () {
                    tplLoadModal && tplLoadModal.classList.add('hidden');
                    tplLoadModal && tplLoadModal.classList.remove('flex');
                });

                // pending load (from saved list quick-load)
                const pending = localStorage.getItem('__pending_load__');
				if (pending) {
                    try {
                        const data = JSON.parse(pending);
						const set = (id, val) => { const el = document.getElementById(id); if (el) el.value = val ?? ''; };
						const setChecked = (id, val) => { const el = document.getElementById(id); if (el) el.checked = !!val; };
                        set('title', data.meta?.title);
                        set('titleFont', data.meta?.titleStyle?.font);
                        set('titleFontSize', data.meta?.titleStyle?.size || '36');
                        set('titleColorHex', data.meta?.titleStyle?.color || '#ffffff');
                        set('titleAlign', data.meta?.titleStyle?.align || 'center');
                        if ($('#titleColor')) $('#titleColor').value = data.meta?.titleStyle?.color || '#ffffff';
                        set('startDate', data.period?.start);
                        set('endDate', data.period?.end);
                        set('periodFont', data.period?.style?.font);
                        set('periodFontSize', data.period?.style?.size || '20');
                        set('periodColorHex', data.period?.style?.color || '#ffffff');
                        set('periodAlign', data.period?.style?.align || 'center');
                        if ($('#periodColor')) $('#periodColor').value = data.period?.style?.color || '#ffffff';
                        set('adultPrice', data.prices?.adult);
                        set('childPrice', data.prices?.child);
                        set('infantPrice', data.prices?.infant);
						setChecked('priceIncludeToggle', data.prices?.included !== false);
                        set('priceFont', data.prices?.style?.font);
                        set('priceFontSize', data.prices?.style?.size || '16');
                        set('priceColorHex', data.prices?.style?.color || '#1f2937');
                        set('priceAlign', data.prices?.style?.align || 'center');
                        if ($('#priceColor')) $('#priceColor').value = data.prices?.style?.color || '#1f2937';
                        set('incTransport', data.expense?.inc?.transport);
                        set('incHotel', data.expense?.inc?.hotel);
                        set('incMeal', data.expense?.inc?.meal);
                        set('incTour', data.expense?.inc?.tour);
                        set('incInsurance', data.expense?.inc?.insurance);
                        set('incGuide', data.expense?.inc?.guide);
                        document.getElementById('exclusions').value = (data.expense?.exc||[]).join('\\n');
                        document.getElementById('optionals').value = (data.expense?.opt||[]).join('\\n');
                        set('expenseFont', data.expense?.style?.font);
                        set('expenseFontSize', data.expense?.style?.size || '14');
                        set('expenseColorHex', data.expense?.style?.color || '#374151');
                        set('expenseAlign', data.expense?.style?.align || 'left');
                        if ($('#expenseColor')) $('#expenseColor').value = data.expense?.style?.color || '#374151';

						// íšŒì˜/í•­ê³µ ì„¹ì…˜ í† ê¸€
						setChecked('meetingSectionIncludeToggle', data.meeting?.sectionIncluded !== false);
						setChecked('airportMeetingInclude', data.meeting?.airport?.include !== false);
						set('meetingPlaceAirport', data.meeting?.airport?.place);
						set('meetingDateAirport', data.meeting?.airport?.date);
						set('meetingTimeAirport', data.meeting?.airport?.time);
						set('meetingHostAirport', data.meeting?.airport?.contact);
						set('meetingPhoneAirport', data.meeting?.airport?.phone);
						setChecked('localMeetingInclude', data.meeting?.local?.include !== false);
						set('meetingPlaceLocal', data.meeting?.local?.place);
						set('meetingDateLocal', data.meeting?.local?.date);
						set('meetingTimeLocal', data.meeting?.local?.time);
						set('meetingGuideLocal', data.meeting?.local?.contact);
						set('meetingPhoneLocal', data.meeting?.local?.phone);
						set('meetingFont', data.meeting?.style?.font);
						set('meetingFontSize', data.meeting?.style?.size || '14');
						set('meetingColorHex', data.meeting?.style?.color || '#1f2937');
						set('meetingAlign', data.meeting?.style?.align || 'left');
						if ($('#meetingColor')) $('#meetingColor').value = data.meeting?.style?.color || '#1f2937';

						setChecked('flightSectionIncludeToggle', data.flight?.sectionIncluded !== false);
						set('departureAirport', data.flight?.out?.depAirport);
						set('arrivalAirport', data.flight?.out?.arrAirport);
						set('departureTime', data.flight?.out?.depTime);
						set('arrivalTime', data.flight?.out?.arrTime);
						set('departureFlight', data.flight?.out?.flightNo);
						set('departureFlightDuration', data.flight?.out?.duration);
						set('returnDepartureAirport', data.flight?.ret?.depAirport);
						set('returnArrivalAirport', data.flight?.ret?.arrAirport);
						set('returnDepartureTime', data.flight?.ret?.depTime);
						set('returnArrivalTime', data.flight?.ret?.arrTime);
						set('returnFlight', data.flight?.ret?.flightNo);
						set('returnFlightDuration', data.flight?.ret?.duration);
						set('flightFont', data.flight?.style?.font);
						set('flightFontSize', data.flight?.style?.size || '14');
						set('flightColorHex', data.flight?.style?.color || '#1f2937');
						set('flightAlign', data.flight?.style?.align || 'left');
						if ($('#flightColor')) $('#flightColor').value = data.flight?.style?.color || '#1f2937';

						// íšŒì‚¬ ì •ë³´ ë° ë¯¸ë¦¬ë³´ê¸° í† ê¸€
						set('companyName', data.company?.name);
						set('companyPhone', data.company?.phone);
						set('companyAddress', data.company?.address);
						setChecked('companyPhoneIncludeToggle', data.company?.showPhone !== false);
						setChecked('companyAddressIncludeToggle', data.company?.showAddress !== false);
						set('managerName', data.company?.manager?.name);
						set('managerPhone', data.company?.manager?.phone);
						set('managerEmail', data.company?.manager?.email);
						set('companyFont', data.company?.style?.font);
						set('companyFontSize', data.company?.style?.size || '14');
						set('companyColorHex', data.company?.style?.color || '#1f2937');
						set('companyAlign', data.company?.style?.align || 'left');
						if ($('#companyColor')) $('#companyColor').value = data.company?.style?.color || '#1f2937';

						// í˜„ì§€ ì •ë³´ ë³µì›
						set('additionalTitle', data.additional?.title || 'í˜„ì§€ ì •ë³´');
						set('additionalInfo', data.additional?.text);
						set('additionalFont', data.additional?.style?.font);
						set('additionalFontSize', data.additional?.style?.size || '14');
						set('additionalColorHex', data.additional?.style?.color || '#1f2937');
						set('additionalAlign', data.additional?.style?.align || 'left');
						if ($('#additionalColor')) $('#additionalColor').value = data.additional?.style?.color || '#1f2937';

						// ê°„ëµ ì¼ì • ë³µì›
						const container = document.getElementById('scheduleContainer');
						if (container && Array.isArray(data.schedules)) {
							const template = container.querySelector('.schedule-item');
							if (template) {
								container.innerHTML = '';
								data.schedules.forEach(function (s) {
									const item = template.cloneNode(true);
									item.querySelector('.schedule-day') && (item.querySelector('.schedule-day').value = s.day || '');
									item.querySelector('.schedule-date') && (item.querySelector('.schedule-date').value = s.date || '');
									item.querySelector('.schedule-title') && (item.querySelector('.schedule-title').value = s.title || '');
									item.querySelector('.schedule-detail') && (item.querySelector('.schedule-detail').value = s.detail || '');
									item.querySelector('.schedule-hotel') && (item.querySelector('.schedule-hotel').value = s.hotel || '');
									item.querySelector('.schedule-meal') && (item.querySelector('.schedule-meal').value = s.meal || '');
									container.appendChild(item);
								});
							}
						}
						set('teeupFont', data.scheduleStyle?.font);
						set('teeupFontSize', data.scheduleStyle?.size || '14');
						set('teeupColorHex', data.scheduleStyle?.color || '#1f2937');
						set('teeupAlign', data.scheduleStyle?.align || 'left');
						if ($('#teeupColor')) $('#teeupColor').value = data.scheduleStyle?.color || '#1f2937';
                    } catch {}
                    localStorage.removeItem('__pending_load__');
                }
            })();
        });
    </script>
    <script src="../js/travel.js"></script>
</body>
</html>